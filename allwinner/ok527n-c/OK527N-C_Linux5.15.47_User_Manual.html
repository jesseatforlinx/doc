

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux5.15.147_User’s Manual &mdash; Forlinx Embedded T527 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=30170994" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/allwinner/ok527n-c/OK527N-C_Linux5.15.47_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Linux5.15.147_User’s Compilation Manual" href="OK527N-C_Linux5.15.47_User_Compilation_Manual.html" />
    <link rel="prev" title="OK527N-C Manual" href="index.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux5.15.147_User’s Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ok527-development-board-description">1. OK527 Development Board Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1.1 OK527 Development Board Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-linux-5-15-104-system-software-resources">1.2 Introduction to Linux 5.15.104 System Software Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flashing-and-boot-settings">1.3 Flashing and Boot Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fast-startup">2. Fast Startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-startup">2.1 Preparation Before Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-port-login">2.2 Serial Port Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#serial-login">2.2.1 Serial Login</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-login-common-problems">2.2.2 Serial Login Common Problems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-login-methods">2.3 Network Login Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#network-connection-test">2.3.1 Network Connection Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssh-server">2.3.2 SSH server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screen-switching">2.4 Screen Switching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-control-of-uboot-menu">2.4.1 Dynamic Control of Uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-program-screen-switching">2.4.2 Qt Program Screen Switching</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-storage">2.5 System Storage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#emmc">2.5.1 EMMC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory">2.5.2 Memory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-shutdown">2.6 System Shutdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok527-platform-interface-function-use-and-test">3. OK527 Platform Interface Function Use and Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-interface-function">3.1 Introduction to Interface Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#network-configuration-test">3.2 Network Configuration Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#browser-test">3.3 Browser Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g-test">3.4 4G Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart-test">3.5 UART Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-test">3.6 ADC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wifi-test">3.7 WIFI Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rtc-test">3.8 RTC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-test">3.9 Key Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#watchdog-test">3.10 Watchdog Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ping-test">3.11 Ping Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#camera-test">3.12 Camera Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backlight-test">3.13 Backlight Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#play-record-test">3.14 Play/Record Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#music-play-test">3.15 Music Play Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cpu-frequency-configuration-test">3.16 CPU Frequency Configuration Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sqlite3-database-test">3.17 SQLite3 Database Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spi-test">3.18 SPI Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switching-display-screen">3.19 Switching Display Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opengl">3.20 OpenGL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video-player">3.21 Video Player</a></li>
<li class="toctree-l3"><a class="reference internal" href="#can-test">3.22 CAN Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu-ai-camera">3.23 NPU_AI_CAMERA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok527-command-line-function-test">4. OK527 Command Line Function Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-information-query">4.1 System Information Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frequency-test">4.2 Frequency Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-test">4.3 Temperature Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ddr-bandwidth-test">4.4 DDR Bandwidth Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">4.5 Watchdog Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rtc-function-test">4.6 RTC Function Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">4.7 Key Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">4.8 UART Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb-to-four-serial-port-conversion-test">4.9 USB to Four Serial Port Conversion Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpadc-test">4.10 GPADC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tf-test">4.11 TF Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#storage-test">4.12 Storage Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb-mouse-test">4.13 USB Mouse Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb-2-0">4.14 USB 2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#otg-test">4.15 OTG Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ethernet-configuration">4.16 Ethernet Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gigabit-ethernet-static-ip-configuration">4.16.1 Gigabit Ethernet Static IP Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ethernet-speed-test">4.16.2 Ethernet Speed Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-services">4.17 Network Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#web-services">4.17.1 Web Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sftp">4.17.2 SFTP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">4.18 WIFI Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sta-mode">4.18.1 STA Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap-mode">4.18.2 AP Mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id6">4.19 4G Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ec20-test">4.19.1 EC20 Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">4.20 Play/Record Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lcd-backlight-adjustment">4.21 LCD Backlight Adjustment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#closing-the-desktop">4.22 Closing the Desktop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#led-test">4.23 LED Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sqlite3-test">4.24 SQLite3 Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boot-script-configuration"><strong>4.25 Boot Script Configuration</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#temporary-autoboot-script-setup"><strong>4.25.1 Temporary Autoboot Script Setup</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flash-image-boot-script-integration"><strong>4.25.2 Flash-Image Boot Script Integration</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#a55-coremark-test">4.26 A55 CoreMark Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a55-dhrystone-test">4.27 A55 Dhrystone Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chip-id-verification">4.28 Chip-ID Verification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">4.29 CAN Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">4.30 SPI Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpio-test">4.31 GPIO Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#buzzer-test">4.32 Buzzer Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb3-0">4.33 USB3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pcie">4.34 PCIE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ir-rx">4.35 IR-RX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bluetooth-test">4.36 Bluetooth Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu-test">4.37 NPU Test</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok527-platform-multimedia-test">5. OK527 Platform Multimedia Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uvc-play-test">5.1 UVC Play Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ov5645-acquisition-test">5.2 OV5645 Acquisition Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-decoding">5.3 Video Hardware Decoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-flashing">6. System Flashing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#image-required-for-flashing">6.1 Image Required for Flashing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#otg-flashing">6.2 OTG Flashing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#flashing-tools-installation">6.2.1 Flashing Tools Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-flashing-method">6.2.2 OTG Flashing Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-flashing-common-issues">6.2.3 OTG Flashing Common Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tf-card-flashing">6.3 TF Card Flashing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tf-flashing-card-creation">6.3.1 TF Flashing Card Creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">6.3.2 TF Card Flashing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OK527N-C_Linux5.15.47_User_Compilation_Manual.html">Linux5.15.147_User’s Compilation Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK527_Quick_Boot.html">Quick Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK527_Display_Interface.html">Display Interface</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded T527 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux5.15.147_User’s Manual</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux5-15-147-users-manual">
<h1>Linux5.15.147_User’s Manual<a class="headerlink" href="#linux5-15-147-users-manual" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p><font style="color:#333333;">This manual is designed to help users quickly familiarize themselves with the product, and understand the interface functions and testing methods. It primarily covers the testing of interface functions on the development board, the methods for flashing images, and troubleshooting procedures for common issues encountered in use. In the process of testing, some commands are annotated to facilitate the</font>user’s understanding, mainly for practical use. Please refer to “OK527N-C _ Linux 5.15.147 + Qt5.15.8 User’s Compilation Manual” provided by Forlinx for kernel compilation, related application compilation methods and development environment construction.</p>
<p>There are total six parts:</p>
<p>Chapter 1. provides an overview of the product, briefly introducing the interface resources of the development board, the relevant driver paths in the kernel source code, supported flashing and booting methods, as well as explanations of key sections in the documentation;</p>
<p>Chapter 2. is the fast boot/startup of the product, which can adopt two ways of serial port login and network login;</p>
<p>Chapter 3. is QT interface function test of the product;</p>
<p>Chapter 4. is the command line operation of the product for functional testing;</p>
<p>Chapter 5. is the multimedia test of the product, including the playback test of the camera and the video hardware codec test;</p>
<p>Chapter 6. is the image update of the product, which mainly describes the method of updating the image to the storage device. Users can choose the corresponding flashing mode according to the actual situation.</p>
<p>A description of some of the symbols and formats in the manual:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>//</p></td>
<td><p>Interpretation of input instructions or output information</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Username&#64;Hostname</p></td>
<td><p>root&#64;OK527:~#: Development board serial port login account information,</p></td>
</tr>
</tbody>
</table>
<p>forlinx&#64;ubuntu: Ubuntu development environment account information</p>
<p>Users can determine the operating environment for functional operations based on this information.</p>
<p>Example: After inserting the TF card, you can use the “ls” command to view the mounting directory.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ls /run/media                                //List files in the/run/media directory
mmcblk0p1  mmcblk0p5  mmcblk1p1
</pre></div>
</div>
<p>root&#64;OK527: The username is ‘’root’’, the hostname is ‘’OK527’’, indicating operations are being performed on the development board using the root user.</p>
<p>// : Explanation of ls /run/media operation, no input required.</p>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading"></a></h2>
<p>This software manual applies to the Forlinx<font style="color:rgb(0,0,0);">OK527 （V1.3） platform Linux5.15.147 operating system.</font></p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Date</strong></p></th>
<th class="head text-center"><p><strong>Manual Version</strong></p></th>
<th class="head text-center"><p><strong>SoM Version</strong></p></th>
<th class="head text-center"><p><strong>Carrier Board Version</strong></p></th>
<th class="head"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>28/04/2025</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.1</p></td>
<td class="text-center"><p>V1.1 and Above</p></td>
<td><p>User’s Manual Initial Version</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ok527-development-board-description">
<h2>1. OK527 Development Board Description<a class="headerlink" href="#ok527-development-board-description" title="Link to this heading"></a></h2>
<section id="id1">
<h3>1.1 OK527 Development Board Description<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p><font style="color:black;">OK527 development board uses a </font>SoM<font style="color:black;">+ carrier board structure, designed and developed based on the AllWinner T527 processor. The processor features an ARM Cortex-A55, 2Tops NPU, HiFi4 DSP, G57 MC1 GPU multi-core heterogeneous architecture. The processor consists of four small cores with a frequency of 1.</font>4G<font style="color:black;">Hz and four big cores with a frequency of 1.8GHz. The SoM comes in two configurations: one with 4GB LPDDR4 memory and 32GB eMMC, and the other with 2GB LPDDR4 memory and 16GB eMMC. The OK527N-C development board offers rich interface resources and multiple peripheral interfaces, including network card, CPU built-in audio codec, GPADC, LRADC, TF Card, LVDS, HDM, DP, RGB, WiFi, 4G, PCIe, MIPI-CSI, and more.</font></p>
<p><img alt="Image" src="_images/06c53e4a05ac401f98dfa0199879ae61.png" /></p>
<p><strong>Note：</strong></p>
<p><strong>The hardware parameters are not described in this software manual. Before referring to this manual for software development, please read “OK527N-C _ Hardware Manual” under the path of “U disk Path: User Data \ Hardware Data \ 1-Manual” to understand the product naming rules and the hardware configuration information of the product you use, which is helpful for you to use this product.</strong></p>
</section>
<section id="introduction-to-linux-5-15-104-system-software-resources">
<h3>1.2 Introduction to Linux 5.15.104 System Software Resources<a class="headerlink" href="#introduction-to-linux-5-15-104-system-software-resources" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p><strong>Device Name</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NIC Driver</p></td>
<td><p>bsp/drivers/gmac/   bsp/drivers/stmmac</p></td>
<td><p>/sys/class/net/eth0   /sys/class/net/eth1</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/</p></td>
<td><p>/dev/disp</p></td>
</tr>
<tr class="row-even"><td><p>LED Driver</p></td>
<td><p>drivers/leds/</p></td>
<td><p>/sys/class/leds/</p></td>
</tr>
<tr class="row-odd"><td><p>USB Port</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p>/dev/sd*</p></td>
</tr>
<tr class="row-even"><td><p>USB 4G</p></td>
<td><p>drivers/usb/serial/</p></td>
<td><p>/dev/ttyUSB*</p></td>
</tr>
<tr class="row-odd"><td><p>USB Camera</p></td>
<td><p>drivers/media/usb/uvc/uvc_video.c</p></td>
<td><p>/dev/video*</p></td>
</tr>
<tr class="row-even"><td><p>SD Driver</p></td>
<td><p>bsp/drivers/mmc/</p></td>
<td><p>/dev/block/mmcblk_p_</p></td>
</tr>
<tr class="row-odd"><td><p>LCD FrameBuffer</p></td>
<td><p>bsp/drivers/video/sunxi/</p></td>
<td><p>/dev/fb*</p></td>
</tr>
<tr class="row-even"><td><p>serial port driver</p></td>
<td><p>bsp/drivers/uart/sunxi-uart.c</p></td>
<td><p>/dev/ttyAS*</p></td>
</tr>
<tr class="row-odd"><td><p>watchdog driver</p></td>
<td><p>bsp/drivers/watchdog/</p></td>
<td><p>/dev/watchdog</p></td>
</tr>
<tr class="row-even"><td><p>WIFI</p></td>
<td><p>drivers/net/wireless/nxp/mlan/</p></td>
<td><p>/sys/class/net/wlan0</p></td>
</tr>
<tr class="row-odd"><td><p>Audio Driver</p></td>
<td><p>bsp/drivers/sound/platform</p></td>
<td><p>/dev/snd/</p></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>bsp/drivers/spi/   drivers/spi/</p></td>
<td><p>/dev/spidev*.*</p></td>
</tr>
<tr class="row-odd"><td><p>TWI Driver</p></td>
<td><p>bsp/drivers/twi/</p></td>
<td><p>/dev/i2c-*</p></td>
</tr>
<tr class="row-even"><td><p>PWM Driver</p></td>
<td><p>bsp/drivers/pwm/</p></td>
<td><p>/dev/sunxi_pwm*</p></td>
</tr>
<tr class="row-odd"><td><p>GT911/GT928 touch driver</p></td>
<td><p>drivers/input/touchscreen/goodix.c</p></td>
<td><p>/dev/input/event*</p></td>
</tr>
<tr class="row-even"><td><p>ft5x06 Touch Driver</p></td>
<td><p>drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/event*</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC driver</p></td>
<td><p>bsp/drivers/gpadc/</p></td>
<td><p>/dev/input/event*</p></td>
</tr>
<tr class="row-even"><td><p>LRADC key driver</p></td>
<td><p>bsp/drivers/lradc/</p></td>
<td><p>/dev/input/event*</p></td>
</tr>
<tr class="row-odd"><td><p>RTC Driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c   drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>IR Driver</p></td>
<td><p>bsp/drivers/ir-rx/</p></td>
<td><p>/dev/input/event*</p></td>
</tr>
<tr class="row-odd"><td><p>awlink driver</p></td>
<td><p>bsp/drivers/awlink/</p></td>
<td><p>/sys/class/net/awlink*</p></td>
</tr>
</tbody>
</table>
</section>
<section id="flashing-and-boot-settings">
<h3>1.3 Flashing and Boot Settings<a class="headerlink" href="#flashing-and-boot-settings" title="Link to this heading"></a></h3>
<p>OK527 supports TF card and USB OTG programming, and the hardware supports eMMC startup.</p>
<p>Insert the TF card into the development board before powering on. After powering on, the TF card flashing process will begin; otherwise, it will boot from eMMC. For detailed flashing instructions, please refer to the “System Flashing”.</p>
<p><strong>Note: The OK527 development board does not support SPI NOR booting.</strong></p>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading"></a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading"></a></h3>
<p>The OK527 development board has two system login methods, serial and network login.</p>
<p>Hardware preparation before system startup:</p>
<ul>
<li><p>12V3A DC Power Cable;</p>
<p>Debugging serial cable (Serial Login);</p>
</li>
<li><p>The development board features a USB Type-C port for debugging purposes, allowing you to connect it to a PC using a Type-A to Type-C cable in order to access the board’s status information;</p></li>
<li><p>Network cable (for network login);</p></li>
<li><p>According to the development board interface to connect the screen (Based on display needs);</p></li>
<li><p>Check the booting method (the system will prioritize booting from the TF card if inserted; otherwise, it will boot from eMMC).</p></li>
</ul>
<p><img alt="Image" src="_images/94815d922930446c9def31b24a302afb.png" /></p>
</section>
<section id="serial-port-login">
<h3>2.2 Serial Port Login<a class="headerlink" href="#serial-port-login" title="Link to this heading"></a></h3>
<section id="serial-login">
<h4>2.2.1 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>Serial port settings: Baud rate 115200, data bit 8, stop bit 1, no parity bit, no flow control;</strong></p></li>
<li><p><strong>The serial terminal login uses the root user without password;</strong></p></li>
<li><p><strong>Software requirements: PC Windows system needs to install the terminal software. Because the terminal software has many types, users can choose their familiar one.</strong></p></li>
</ul>
<p>The following is an example of how to set up the terminal using putty (02-User Information \01-Software Information \04-Tools\putty-64-bit_x86.exe):</p>
<p>Step 1: Connect the development board and the PC using a serial cable, and verify the serial port number recognized by the computer through the “Device Manager”.</p>
<p>The port number recognized by the computer should be considered as the accurate one;</p>
<p>Choose “USB-Enhanced-SERIAL-A CH342”.</p>
<p><img alt="Image" src="_images/9e2cca0969df41fe9a59ca302f92aae7.png" /></p>
<p>Step 2: Open and configure PuTTY; set the serial line to match the COM port of your computer with a baud rate of 115200.</p>
<p><img alt="Image" src="_images/cf849bee2bee42779e11bcba90fd3e14.png" /></p>
<p>Step 3: Power on the development board. Serial port will output printing information until “root&#64;OK527:/#” appears, indicating the completion of the boot process. The system defaults to the root account with no password required for login.</p>
</section>
<section id="serial-login-common-problems">
<h4>2.2.2 Serial Login Common Problems<a class="headerlink" href="#serial-login-common-problems" title="Link to this heading"></a></h4>
<p>Connect the PC side to the development board through the Type-C adapter cable and install the corresponding driver (User Information-Software Information\3-Tools\CH343SER.ZIP).</p>
<p>It is better to use a good quality cable to avoid error codes.</p>
</section>
</section>
<section id="network-login-methods">
<h3>2.3 Network Login Methods<a class="headerlink" href="#network-login-methods" title="Link to this heading"></a></h3>
<section id="network-connection-test">
<h4>2.3.1 Network Connection Test<a class="headerlink" href="#network-connection-test" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>The default factory IP for eth0 is 192.168.0.232;</strong></p></li>
<li><p><strong>The computer and board should be on the same network segment for testing.</strong></p></li>
</ul>
<p>Before login, you should ensure the network connection between the computer and the development board is normal, and use the ping command to test the connection status.</p>
<p>The specific method of operation is as follows:</p>
<p>1. Connect eth0 of the development board to the computer through the network and power up the development board. A red light on the SoM will blink after the kernel starts, and the network card connected to the computer will blink quickly after normal startup. At this point, we can test the network connection;</p>
<p><img alt="Image" src="_images/2c6fb190a0024aaaa36d36d1f6d5864e.png" /></p>
<p>2. Close the computer firewall (General computer operations, not described here in detail), then open the computer’s run command;</p>
<p><img alt="Image" src="_images/2b9890db290046fdbb1d34fb7ffc3c35.png" /></p>
<p>3. Use cmd to open the administrator interface , and use the ping command to test the network connection status of the computer and the development board.</p>
<p>A data return indicates a normal network connection.</p>
<p><img alt="Image" src="_images/0f90a319589444cdac4c5e7d58158bbb.png" /></p>
</section>
<section id="ssh-server">
<h4>2.3.2 SSH server<a class="headerlink" href="#ssh-server" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>The default factory SSH login account is “root” and the password is also “root”;</strong></p></li>
<li><p><strong>The default factory IP for eth0 is 192.168.0.232;</strong></p></li>
<li><p><strong>File transfers can be performed with scp.</strong></p></li>
</ul>
<p><img alt="Image" src="_images/846ff8b162c546ac9e268600a5dce468.png" /></p>
<p>Click “Open”, the following dialog box will appear, click “Yes” to enter the login screen.</p>
<p><img alt="Image" src="_images/326d584bb5d247ffa6bc2f4c325934fc.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Login as：root
root@192.168.0.232&#39;s password:               //Enter the password &quot;root&quot; for the root account of the development board as prompted.
root@OK527:~$
</pre></div>
</div>
<p>Use SFTP to copy files, refer to 4.17.2 SFTP</p>
</section>
</section>
<section id="screen-switching">
<h3>2.4 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading"></a></h3>
<p>Currently, screen switching supports two methods: U-Boot menu and QT application.</p>
<p>In addition, the following rules shall be followed for screen configuration:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> When outputting on a single screen, the other disp _ type must be none and the disp _ pri _ type must be the same as the output
</pre></div>
</div>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> When LCD and DP are selected to output simultaneously, LCD must be selected as the main screen
</pre></div>
</div>
<p>a)    LCD includes “lcd 1024x600”“mipi 1024x600”“lvds 1280x800”;</p>
<p>b)	DP includes “dp 1080P60”“dp 2.5k”;</p>
<p>c)    HDMI automatically configures resolution based on edid.</p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.4.1 Dynamic Control of Uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading"></a></h4>
<p>This method allows switching without recompiling and burn-in of existing supported screens.</p>
<p>During the Uboot boot process, pressing the spacebar will enter the uboot menu.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display0 Type:lvds 1280x800
3:Display1 Type:hdmi
4:Device PHY Type:none
5:display primary screen: disp0_type
---------------------------------------------
</pre></div>
</div>
<p>The menu options are as follows:</p>
<p>Enter 0 to enter the uboot command line;</p>
<p>Enter 1 to restart uboot;</p>
<p>Enter 2 will cyclically select the Display0 Type screen;</p>
<p>Enter 3 will cyclically select the Display1 Type screen;</p>
<p>Enter 4 will cyclically select the multiplexing of PCIe and USB3.0.</p>
<p>Enter 5 will cyclically select the main screen;</p>
<p>Take the “LVDS 1280x800” and “HDMI” screens as an example. After entering the uboot menu, press the corresponding number until the following content is displayed, and then press 1 to restart.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display0 Type:lvds 1280x800
3:Display1 Type:hdmi
4:Device PHY Type:none
5:display primary screen: disp0_type
---------------------------------------------
</pre></div>
</div>
<p><strong>Note: The current version does not support DP 2560x1440 resolution and HDMI 3840 × 2160 resolution</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>	**The DP screen cannot be displayed alone**
</pre></div>
</div>
</section>
<section id="qt-program-screen-switching">
<h4>2.4.2 Qt Program Screen Switching<a class="headerlink" href="#qt-program-screen-switching" title="Link to this heading"></a></h4>
<p>This method allows switching without recompiling and burn-in of existing supported screens.</p>
<p>Refer to 3.19 Switching Screen Display.</p>
</section>
</section>
<section id="system-storage">
<h3>2.5 System Storage<a class="headerlink" href="#system-storage" title="Link to this heading"></a></h3>
<p>OK527 has multiple specifications, the following are 2+16GB versions.</p>
<section id="emmc">
<h4>2.5.1 EMMC<a class="headerlink" href="#emmc" title="Link to this heading"></a></h4>
<p>The following table is the eMMC memory partition information of Linux operating system:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Partition Index</strong></p></th>
<th class="head text-center"><p><strong>Name</strong></p></th>
<th class="head text-center"><p><strong>Size</strong></p></th>
<th class="head text-center"><p><strong>File system</strong></p></th>
<th class="head"><p><strong>Content</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>mmcblk0p1</p></td>
<td class="text-center"><p>boot-resource</p></td>
<td class="text-center"><p>32 MB</p></td>
<td class="text-center"><p>vfat</p></td>
<td><p>boot-resource.fex</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>mmcblk0p2</p></td>
<td class="text-center"><p>env</p></td>
<td class="text-center"><p>16 MB</p></td>
<td class="text-center"><p>raw</p></td>
<td><p>env.fex</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>mmcblk0p3</p></td>
<td class="text-center"><p>boot</p></td>
<td class="text-center"><p>64 MB</p></td>
<td class="text-center"><p>raw</p></td>
<td><p>boot.fex</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>mmcblk0p4</p></td>
<td class="text-center"><p>rootfs</p></td>
<td class="text-center"><p>4096MB</p></td>
<td class="text-center"><p>ext4</p></td>
<td><p>rootfs.fex</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>mmcblk0p5</p></td>
<td class="text-center"><p>userdata</p></td>
<td class="text-center"><p>Remaining total</p></td>
<td class="text-center"><p>ext4</p></td>
<td><p>User partition</p></td>
</tr>
</tbody>
</table>
<p>Use the df command to view disk usage on a system. The following image depicts the default disk usage upon factory settings (using the QT file system). Please note that this is for reference only, and actual parameters may vary.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# df -Th
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/root      ext4      3.9G  1.1G  2.9G  27% /
tmpfs          tmpfs     967M  440K  967M   1% /tmp
tmpfs          tmpfs     967M  460K  967M   1% /run
devtmpfs       devtmpfs  935M     0  935M   0% /dev
/dev/mmcblk0p1 vfat      128M  7.4M  121M   6% /run/media/mmcblk0p1
/dev/mmcblk0p5 ext4       11G   24K  9.7G   1% /run/media/mmcblk0p5

</pre></div>
</div>
</section>
<section id="memory">
<h4>2.5.2 Memory<a class="headerlink" href="#memory" title="Link to this heading"></a></h4>
<p>Using the “free” command to view memory usage, the following image shows the memory usage without connecting any peripherals, in MB. It’s for reference only; actual parameters may vary.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# free -m
              total        used        free      shared  buff/cache   available
Mem:           1934         258        1455          13         221        1638
Swap:             0           0           0
</pre></div>
</div>
</section>
</section>
<section id="system-shutdown">
<h3>2.6 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading"></a></h3>
<p>In general, the power can be turned off directly. If there is data storage, function use, or other operations, avoid turning off the power arbitrarily during operation to prevent irreversible damage to the file. In such cases, only re-flashing the firmware can resolve the issue. Before powering off, use the sync command to ensure data is fully written.</p>
<p>The command ‘‘reboot’‘ can be used to restart the development board. You can also restart the hardware by pressing the K3 (RESET) key or directly power off and restart.</p>
<p>Long-pressing the K2 (PWRON) button on the development board can turn off the device, and long-pressing K2 again can turn it on.</p>
<p><strong>Note：If the user-designed product using the SoM experiences an unexpected shutdown due to power loss during operation, power-down protection measures can be included in the design to prevent this issue.</strong></p>
</section>
</section>
<section id="ok527-platform-interface-function-use-and-test">
<h2>3. OK527 Platform Interface Function Use and Test<a class="headerlink" href="#ok527-platform-interface-function-use-and-test" title="Link to this heading"></a></h2>
<p><font style="color:black;"> </font><strong>Description:</strong></p>
<p><strong>Users should follow this section when using the screen with the QT file system, but can skip it for non-QT operations.</strong></p>
<p><strong>This chapter details QT functions. With the default device and driver working normally, it’s advisable to test interface functions after command line tests.</strong></p>
<p>QT test source code path: source code OK 527-linux-sdk/platform/forlinx/forlinx _ qt _ demo.</p>
<p>Testing program path in the development board’s file system: /usr/bin.</p>
<p>This chapter mainly explains the usage of the expansion interfaces on the development board in QT interface. The testing program is only for reference, and please make adjustments based on your actual situations when using it.</p>
<section id="introduction-to-interface-function">
<h3>3.1 Introduction to Interface Function<a class="headerlink" href="#introduction-to-interface-function" title="Link to this heading"></a></h3>
<p>The desktop of the OK527 development board appears as follows after startup:</p>
<p><img alt="Image" src="_images/847ac07fa318482cbe4b2e8e4e8f95ed.png" /></p>
<p>Click the arrow in the upper right corner togo to the next page.</p>
<p><img alt="Image" src="_images/4686cda3f4b44555bd99ce394dfb54e7.png" /></p>
<p>Video Player is not supported in the current version</p>
</section>
<section id="network-configuration-test">
<h3>3.2 Network Configuration Test<a class="headerlink" href="#network-configuration-test" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>By factory default, only the eth0 network card is set to STATIC mode;</strong></p>
<p><strong>The IP and network configuration will be stored in the system file (/etc/network/interfaces), ensuring the settings persist across system restarts.</strong></p>
<p>Icon：<img alt="Image" src="_images/8c4ed03d40d74850bf31dbac258f1ed8.png" /></p>
<p>Clicking on the network configuration icon will open a interface program that supports two modes: STATIC and DHCP.</p>
<p>STATIC Mode</p>
<p>After clicking on the network configuration icon, select the STATIC mode as shown in the figure. You can then configure the IP address, subnet mask, gateway, and DNS settings. Once you have set the parameters, click on “Apply and Restart Network”.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Relevant Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>interface</p></td>
<td><p>Set up the network card</p></td>
</tr>
<tr class="row-odd"><td><p>ip</p></td>
<td><p>Set the IP address</p></td>
</tr>
<tr class="row-even"><td><p>netmask</p></td>
<td><p>Set the subnet mask</p></td>
</tr>
<tr class="row-odd"><td><p>gateway</p></td>
<td><p>Set up the gateway</p></td>
</tr>
<tr class="row-even"><td><p>dns</p></td>
<td><p>Set DNS</p></td>
</tr>
</tbody>
</table>
<p><img alt="Image" src="_images/6d4df335a44e43e1846ba7a5432797aa.png" /></p>
<p>DHCP Mode:</p>
<p><strong>Note: Testing must be done on a router that supports automatic IP allocation.</strong></p>
<p>Check DHCP, select the NIC device needing to be configured, and click “Apply and Restart Network” at the bottom of the interface to restart the network and get the ip automatically.</p>
<p><img alt="Image" src="_images/99014da843c34819a6c4ddeedb9885a3.png" /></p>
</section>
<section id="browser-test">
<h3>3.3 Browser Test<a class="headerlink" href="#browser-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/4fdf6ce0e5a945068ca0af853ae7cda9.png" /></p>
<p>Click the browser icon and ensure a smooth network connection with available DNS before accessing external sites. Upon browser startup, it defaults to visiting Forlinx Embedded’s official website, as shown below:</p>
<p><img alt="Image" src="_images/492a4d3587424cfba9b634f07b3e773c.png" /></p>
<p><strong>Note: If the development board time is abnormal, it will cause certificate problems.</strong></p>
</section>
<section id="g-test">
<h3>3.4 4G Test<a class="headerlink" href="#g-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/13cbef6336ce49f4a9c02543f92e5a08.png" /></p>
<p>The “4G” test program is used to test the OK527 external 4G module (EC20). Before testing, power off the development board, insert the SIM card into the 4G module (ensure correct SIM direction), and launch the test application. This test employs the EC20 module as a reference.</p>
<p><img alt="Image" src="_images/967d5501a0c14067a9335a9818759cb4.png" /></p>
<p><img alt="Image" src="_images/17bcdf9cb5db451c908a4db324ea4496.png" /></p>
<p>Click the CONNECT button then the program will automatically enter the dialing process and get the IP to set the DNS, etc. After waiting patiently for a few seconds, click the ping button to test it.</p>
</section>
<section id="uart-test">
<h3>3.5 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/319b367812c04550ba6b0a7f9c3dc5dd.png" /></p>
<p>This test uses UART4 (ttyAS4) and conducts serial port testing through the serial tool.</p>
<p>1. Click the UART test icon to enter the following interface to set the serial port parameters:</p>
<p><img alt="Image" src="_images/b3b1fca641b1447ba0ae4082f1f75014.png" /></p>
<p>2. Click thesetup button in the top left corner to align serial port parameters with those on the computer side, as depicted below:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Relevant Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Select Serial Port</p></td>
<td><p>Setting the serial port (select UART4, i.e. ttyAS4)</p></td>
</tr>
<tr class="row-odd"><td><p>BaudRate</p></td>
<td><p>Set baud rate (115200)</p></td>
</tr>
<tr class="row-even"><td><p>Data bits</p></td>
<td><p>Set data bits (8 bits)</p></td>
</tr>
<tr class="row-odd"><td><p>Parity</p></td>
<td><p>Set parity bit (no parity)</p></td>
</tr>
<tr class="row-even"><td><p>Stop bits</p></td>
<td><p>Set stop bit (1 bit)</p></td>
</tr>
<tr class="row-odd"><td><p>Flow control</p></td>
<td><p>Set flow control (no flow control)</p></td>
</tr>
</tbody>
</table>
<p><img alt="Image" src="_images/9e9fe1f3125243c78fbe62cd15e131f2.png" /></p>
<p>3. After setting the serial port parameters, click the connect button in the upper left corner, then the program can conduct data sending and receiving tests;</p>
<p>4. Open the serial port tool on the computer, and the data received by the serial port will be displayed on the screen at this time;</p>
<p><img alt="Image" src="_images/4c5a8a52e55a46d1a07a8d4e3b395589.png" /></p>
<p><img alt="Image" src="_images/9f91d3ead2d447cab2723b06f556c49a.png" /></p>
<p>5. Click on the black - screen area in the middle of the test interface, and a soft keyboard will pop up. After continuously entering 32 characters, the information printed by the serial port tool is the data sent by Qt.</p>
<p><img alt="Image" src="_images/89276bbebe074fddba990e93f6e40661.png" /></p>
<p><img alt="Image" src="_images/75db29ed035a44fd8980cc5f352e09f2.png" /></p>
</section>
<section id="adc-test">
<h3>3.6 ADC Test<a class="headerlink" href="#adc-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/f1617a1cbcf9416ba23bf07e8083d78e.png" /></p>
<p>OK527 supports 24 x, and 14 x GPADC are led out from the OK527 carrier board. By default, all channels are floated. The value of the potentiometer can be measured by shorting the corresponding pin. Max value of 4096 corresponds to a voltage of 1.8V.</p>
<p><img alt="Image" src="_images/9c70b203912145a980d5aa93e148bce8.png" /></p>
</section>
<section id="wifi-test">
<h3>3.7 WIFI Test<a class="headerlink" href="#wifi-test" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>The AW-CM358 chip is soldered on the OK527 carrier board.</strong></p>
<p><strong>“WIFI” is a tool for configuring and testing the STA (station) mode of Wi-Fi</strong>.</p>
<p>1. Click icon<img alt="Image" src="_images/385fdc5821e243f3a949e0c26d7873b9.png" />to enter test interface, select module from dropdown, enter SSID for Wi-Fi connection.</p>
<p>Enter router name &amp; password in PAWD, click “connect” to WiFi；</p>
<p><img alt="Image" src="_images/a9c7ff0405bd4de8a0f9a6470ad95792.png" /></p>
<p>2. After the connection is successful, click “ping” to test the network after setting the IP;</p>
<p><img alt="Image" src="_images/2d7a458942f644c79ad11fe78bfc79dd.png" /></p>
</section>
<section id="rtc-test">
<h3>3.8 RTC Test<a class="headerlink" href="#rtc-test" title="Link to this heading"></a></h3>
<p><strong>Note: Ensure button cell batteries are installed &amp; voltage is normal.</strong></p>
<p>Icon: <img alt="Image" src="_images/2f6987d52ce64a82b628c7aaffa0bfc0.png" /></p>
<p>RTC test includes setting time, power cycling, rerunning test software, and verifying RTC sync.</p>
<p>Run the RTC test software to view and set the current system time with the following interface:</p>
<p><img alt="Image" src="_images/2e3029188fd745669a09a5325d549ec7.png" /></p>
<p>Click “set” to set the time. After setting, click the save button to save the setting.<font style="color:black;"> Then power off and power on after a period of time. Run the</font><font style="color:black;"> RTC </font><font style="color:black;">test software again to read the time automatically. It can be seen that the </font><font style="color:black;"> RTC </font><font style="color:black;">time has been synchronized and the</font><font style="color:black;">RTC</font><font style="color:black;"> test is normal.</font></p>
</section>
<section id="key-test">
<h3>3.9 Key Test<a class="headerlink" href="#key-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/583f89cff0cf4ebd8db8a3baf67aefe2.png" /></p>
<p>“Keypad” tests platform buttons’ availability by checking if pressed buttons turn blue. Interface shown below.</p>
<p><img alt="Image" src="_images/a92e9fb982d6497cb5f6e520b1b6c3a3.png" /></p>
<p>There are 6 physical buttons USER, VOL +, VOL-, HOME, MENU and ENTER on the side of OK527 carrier board, which respectively correspond to User, V +, V-, Home, Menu and Enter in the test program. When the button is pressed, the corresponding button in the test application will turn blue, indicating that the button function is normal.</p>
</section>
<section id="watchdog-test">
<h3>3.10 Watchdog Test<a class="headerlink" href="#watchdog-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/01580cc9162a46b99b05bc277e34fc0a.png" /></p>
<p>“WatchDog” tests the functionality of the watchdog feature.</p>
<p>Interface as follows:</p>
<p><img alt="Image" src="_images/a54150d7f7894642b8dcc433b6e646ba.png" /></p>
<p>Checking “feed dog” &amp; clicking “open watchdog” starts watchdog function with dog-feeding. System shouldn’t restart under normal conditions.</p>
<p>Unchecking “Feed Dog” &amp; clicking “Activate Watchdog” starts watchdog function without dog-feeding. After about 10 seconds, the system restarts, indicating normal watchdog function.”</p>
</section>
<section id="ping-test">
<h3>3.11 Ping Test<a class="headerlink" href="#ping-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/e2d8ef4843d7428497a04aa1209744f8.png" /></p>
<p>“Ping” is a graphical tool for network testing, offering a user-friendly interface for ping operations.</p>
<p><img alt="Image" src="_images/4e36409435484ccdad5aa645e0618579.png" /></p>
<p>Write the target IP address in the “hostname” column. Click the “ping” button, and the “result” column will display the ping outcome. Click “stop” to end the ping test, and “clear” to erase the information in the “result” column.</p>
<p>As shown in the figure, the network connection is smooth.</p>
<p><img alt="Image" src="_images/58cb2cca95e54cf78502e6511b2e3e2d.png" /></p>
</section>
<section id="camera-test">
<h3>3.12 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/41af9788e1d541048ceeb0fb17f2f67a.png" /></p>
<p>Click the icon to enter the camera test program, which supports MIPI CSI interface and UVC camera. During the test, the UVC camera or mipi ov5645 needs to be inserted first, the device name corresponding to the UVC is/dev/video1, and the device name of the MIPI OV5645 at the P48 position of the carrier board is/dev/video0. Carrier board P49 location MIPI OV5645 device name is/dev/video4.</p>
<p>Open the QT test program.</p>
<p><img alt="Image" src="_images/3353cea26e2d42149a1e3b539ac83ea6.png" /></p>
<p>Choose the camera video device node;</p>
<p>Set the camera resolution;</p>
<p>Click “Start” to capture video;</p>
<p>Click “Stop” to end capture;</p>
<p>Click “Picture” to take a photo;</p>
<p>Save the photo with a name and at a chosen path.</p>
<p><strong>Note: Please select the camera device and resolution based on your actual situation.</strong></p>
<p>Take mipiov5645 camera as an example for test.</p>
<p><img alt="Image" src="_images/968c3a2360bf47e5bc7c68132dbc8b73.png" /></p>
<p>Click “Picture” to take photos and save them in /root/. Use Windows built-in image viewer to view them.</p>
<p><img alt="Image" src="_images/2cef678e66c24514b5c11ede328b8c08.png" /></p>
<p>The current MIPI OV5645 module supports resolutions of 1280x960, 1920x1080, and 2592x1944 respectively.</p>
<p>The following is an example test of the OV5645 resolution of 2592x1944 connected to the carrier board P48.</p>
<p><img alt="Image" src="_images/0ad756778eae4ca1a211fe857eb432a8.png" /></p>
<p><strong>Note: If TP2855 is used for testing, the device tree needs to be modified and recompiled to generate an image.</strong></p>
<p>The modification method is as follows:<br />
Open OKT527-linux-sdk1.3/kernel/linux-5.15/arch/arm64/boot/dts/allwinner/OKT527-C-Linux.dts device tree;</p>
<p>Uncomment TP2855 and comment out OV13855 at the same time, recompile the image after saving, and test with this application after flashing.</p>
<p><img alt="Image" src="_images/f37b117e81e045fbbbf66e0c559dd297.png" /></p>
</section>
<section id="backlight-test">
<h3>3.13 Backlight Test<a class="headerlink" href="#backlight-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/a3360044cf194d89af094fb38842e517.png" /></p>
<p>“BackLight” is an LCD backlight adjustment App with a left-right progress bar for brightness control.</p>
<p>Click to open the interface as follows:</p>
<p><img alt="Image" src="_images/e115fd386d75465e86da4c6d1426b7ec.png" /></p>
<p>Drag the slider in the interface to set the LCD backlight brightness. 1 is the darkest, 255 is the brightest, and 0 needs to be set through the command line. Refer to“4.21 LCD Backlight Adjustment”.</p>
</section>
<section id="play-record-test">
<h3>3.14 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/2b35bce12a7c40c9b7d001af8eb1b902.png" /></p>
<p>Before conducting the audio recording test, please insert the prepared microphone into the mic port. Click the icon to enter the recording test application, which can be used to check if the sound card recording function is working properly.</p>
<p>Choose where to save the recording file. Click “Start” to begin recording and “Stop” to end.</p>
<p>The interface is as follows:</p>
<p><img alt="Image" src="_images/275349cfe1e2419985ba4358217ee8bd.png" /></p>
<p>Click the Record button to test the recording. The recording file is saved in the root directory.</p>
<p><img alt="Image" src="_images/0cce15e589194f53a0507a2134926bc7.png" /></p>
</section>
<section id="music-play-test">
<h3>3.15 Music Play Test<a class="headerlink" href="#music-play-test" title="Link to this heading"></a></h3>
<p>Use the “ <img alt="Image" src="_images/a953a7962ad4473898aba29091d51499.png" />” app icon to conduct a music playback test.</p>
<p>“music player” is a simple audio test application that can be used to test the function of the sound card or as a simple audio player.</p>
<p><img alt="Image" src="_images/c3aa49a425fd493197e652a27aae6cb2.png" /></p>
<p>Application Interfaces</p>
<p>Click the button in the lower left corner and select test audio /forlinx/media/test.mp3</p>
</section>
<section id="cpu-frequency-configuration-test">
<h3>3.16 CPU Frequency Configuration Test<a class="headerlink" href="#cpu-frequency-configuration-test" title="Link to this heading"></a></h3>
<p>OK527 has CPU0 to CPU3 with a maximum frequency of 1.4GHz, and CPU4 to CPU7 with a maximum frequency of 1.8GHz. By default, the CPU dynamically adjusts its frequency based on load. Alternatively, you can set a fixed CPU frequency.</p>
<p>Click the desktop setting icon to<img alt="Image" src="_images/56bd63f6b4fc47f0ac376c3e38958002.png" />enter the next menu:</p>
<p><img alt="Image" src="_images/98ab8bb81a524bcb85ec5b4b9b994427.png" /></p>
<p>Click the desktop icon<img alt="Image" src="_images/aa3a65e663a749a68445db7d202ae3c5.png" />to enter the CPU main frequency setting page:</p>
<p><img alt="Image" src="_images/0d761d48f870491da7d2e4c4437417e8.png" /></p>
<p>Set OnDemand Governor：Dynamically adjust the main frequency on demand;</p>
<p>Set Userspace Governor: Set CPU frequency in user mode;</p>
<p>Set Frequency CPU0-3: Adjust the frequency of the small cores;</p>
<p>Set Frequency CPU4-7: Adjust the frequency of the big cores;</p>
<p>As an example for setting the frequency of the small cores: First, click “Set Userspace Governor,” then a dialog box will pop up; click “RUN.”</p>
<p><img alt="Image" src="_images/50711674801f456aa2d459f3c8a571ef.png" /></p>
<p>Then, click “Set Frequency CPU0-3” to set a fixed frequency. (Click the arrow in the top right corner to return to the previous directory, and click the icon in the top right corner to return to the main directory).</p>
<p><img alt="Image" src="_images/69dc2680f28c451e8bcb5b7185a9cd94.png" /></p>
<p>Select the desired frequency for configuration based on the needs.</p>
</section>
<section id="sqlite3-database-test">
<h3>3.17 SQLite3 Database Test<a class="headerlink" href="#sqlite3-database-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/c8d4cf91c8b5429fa6fa06f1382c4b54.png" /></p>
<p>Click on the icon to access the database testing interface.</p>
<p><img alt="Image" src="_images/ce85234aa5704d1e97b82d575987aed5.png" /></p>
<p>Select the column that needs to be modified, and click on an empty area after making the changes.</p>
<p><img alt="Image" src="_images/1469680b6b0444e18925123f54a951cc.png" /></p>
</section>
<section id="spi-test">
<h3>3.18 SPI Test<a class="headerlink" href="#spi-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/17530712eb84466fafaa35c8d4ba53a4.png" /></p>
<p>Click on the icon to enter the SPI testing interface. Short-circuit the SPI0_MOSI and SPI0_MISO pins, then click “send” below to receive the data sent out and complete the test.</p>
<p><img alt="Image" src="_images/d2dd10362853426aa763204ee8b303e3.png" /></p>
<p>Short-circuit the SPI0_MOSI and SPI0_MISO pins, then click “send” below to receive the data sent out and complete the test.</p>
</section>
<section id="switching-display-screen">
<h3>3.19 Switching Display Screen<a class="headerlink" href="#switching-display-screen" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/9e9946140b224a0ca3c6951bcf7752bb.png" /></p>
<p>Click the icon to enter the interface, click the corresponding button to modify the display settings, and click “Apply” to save the configuration, which will take effect in the next restart.</p>
<p>In addition, the following rules shall be followed for screen configuration:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>When outputting on a single screen, the other disp _ type must be none and the disp _ pri _ type must be the same as the output.
</pre></div>
</div>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>When LCD and HDMI are selected for simultaneous output, LCD must be selected as the main screen
</pre></div>
</div>
<p>a)    LCD includes “lcd 1024x600”“mipi 1024x600”“lvds 1280x800”;</p>
<p>b)	DP includes “dp 1080P60”“dp 2.5k”;</p>
<p>c)    HDMI automatically configures resolution based on edid.</p>
<p><img alt="Image" src="_images/b9e634b2271a44ab91c078b142ae4abb.png" /></p>
</section>
<section id="opengl">
<h3>3.20 OpenGL<a class="headerlink" href="#opengl" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/92008941182a4bc48b3e4e13084f0bc8.png" /></p>
<p>The current frame rate is only 20 frames.</p>
<p><img alt="Image" src="_images/98f94324a96149058a2654c3f7dabae9.png" /></p>
</section>
<section id="video-player">
<h3>3.21 Video Player<a class="headerlink" href="#video-player" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/7d833c2e88dd4f0e96519b5400b138d6.png" /></p>
<p>Click “open file” to select the test video to play.</p>
<p><img alt="Image" src="_images/0d68d6be0d70478b9139091b031c72f1.png" /></p>
<p><img alt="Image" src="_images/807c6cc3a73147e5858cd07a7617f4e4.png" /></p>
</section>
<section id="can-test">
<h3>3.22 CAN Test<a class="headerlink" href="#can-test" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/c2698aeace1e4683824264f3833a6aa7.png" /></p>
<p>Configure can0 as shown in the figure below：</p>
<p><img alt="Image" src="_images/4a72a646b3514a1f933f7ae0af0bc182.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ip link set awlink1 up type can bitrate 500000
[58662.966792] IPv6: ADDRCONF(NETDEV_CHANGE): can1: link becomes ready
root@OK527:/# ip link set dev awlink1 txqueuelen 4096
root@OK527:/# cangen awlink1 
</pre></div>
</div>
<p>Configure can1 on the command line of the development board to send, and observe whether can0 receives data in the interface.</p>
<p><img alt="Image" src="_images/8fc88a53bc414870bb4eaff7bafc5403.png" /></p>
</section>
<section id="npu-ai-camera">
<h3>3.23 NPU_AI_CAMERA<a class="headerlink" href="#npu-ai-camera" title="Link to this heading"></a></h3>
<p>Icon：<img alt="Image" src="_images/ce8c9af435aa42a180f7aa51130d092b.png" /></p>
<p>Insert the UVC camera and click the start button.</p>
<p><strong>Note: NPU testing is only supported in the OK 527N-C version.</strong></p>
<p><img alt="Image" src="_images/741afdefeab547d7af36ecf0bf2e730f.png" /></p>
</section>
</section>
<section id="ok527-command-line-function-test">
<h2>4. OK527 Command Line Function Test<a class="headerlink" href="#ok527-command-line-function-test" title="Link to this heading"></a></h2>
<p>The OK527 platform has various built-in command line tools available to users.</p>
<p>Test program source code path: OK527-linux-sdk/platform/forlinx/forlinx_cmd_demo/</p>
<p>Testing program path: “path”: /usr/bin</p>
<section id="system-information-query">
<h3>4.1 System Information Query<a class="headerlink" href="#system-information-query" title="Link to this heading"></a></h3>
<p>To view the kernel information, enter the following command:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# uname -a
Linux OK527 5.15.147 #10 SMP PREEMPT Thu Mar 13 17:01:54 HKT 2025 aarch64 GNU/Linux
</pre></div>
</div>
<p>To view CPU information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /proc/cpuinfo
processor       : 0
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 1
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 2
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 3
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 4
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 5
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 6
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0

processor       : 7
BogoMIPS        : 48.00
Features        : fp asimd aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp
CPU implementer : 0x41
CPU architecture: 8
CPU variant     : 0x2
CPU part        : 0xd05
CPU revision    : 0
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# env
SHELL=/bin/sh
bt_mac=
snum=50075789d0c4c701f53
selinux=0
EDITOR=/bin/vi
PWD=/
wifi_mac=
HOME=/
LANG=en_US.UTF-8
uboot_backup=ubootA
uboot_message=2018.07-gdd4de6c(03/03/2025-07:11:21)
boot_type=2
mac1_addr=9a:76:ec:cf:ee:9a
QT_QPA_PLATFORM=wayland-egl
QT_QPA_EGLFS_NO_LIBINPUT=1
TERM=vt102
slub_debug=UFPZ
USER=root
SHLVL=1
WESTON_DISABLE_ATOMIC=1
QT_QPA_FONTDIR=/usr/share/fonts
specialstr=
XDG_RUNTIME_DIR=/var/run
bootreason=usb
partitions=boot-resource@mmcblk0p1:env@mmcblk0p2:boot@mmcblk0p3:rootfs@mmcblk0p4:UDISK@mmcblk0p5
WESTON_AFBC_GBM_MODIFIERS=1
PATH=/bin:/sbin:/usr/bin:/usr/sbin
QT_QPA_PLATFORM_PLUGIN_PATH=/usr/lib/qt/plugins
mac0_addr=9a:76:ec:cf:ee:9d
DBUS_SESSION_BUS_ADDRESS=unix:path=/var/run/dbus/system_bus_socket
_=/usr/bin/env
</pre></div>
</div>
</section>
<section id="frequency-test">
<h3>4.2 Frequency Test<a class="headerlink" href="#frequency-test" title="Link to this heading"></a></h3>
<p><strong>Description: T527 has 8 cores, the small core is CPU 0 ~ CPU3, and the large core is CPU 4 ~ CPU7. This process takes cpu0 as an example, and the actual process cpu0 to cpu3 will change at the same time.</strong></p>
<ol class="arabic simple">
<li><p>All cpufreq governor types supported in the current kernel:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
conservative ondemand userspace powersave performance schedutil
</pre></div>
</div>
<p>The userspace indicates user mode, in which other users’ programs can adjust the CPU frequency.</p>
<ol class="arabic simple" start="2">
<li><p>View the current CPU supported frequency level.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
408000 672000 792000 936000 1008000 1104000 1224000 1320000 1416000
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set to user mode and modify the frequency to<font style="background-color:#c0c0c0;"> 936000</font>：</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@OK527:/# echo 936000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>View the modified current frequency:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
936000
</pre></div>
</div>
</section>
<section id="temperature-test">
<h3>4.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading"></a></h3>
<p>View the temperature value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/class/thermal/thermal_zone0/temp
51322
</pre></div>
</div>
<p>The temperature value is 51°C.</p>
</section>
<section id="ddr-bandwidth-test">
<h3>4.4 DDR Bandwidth Test<a class="headerlink" href="#ddr-bandwidth-test" title="Link to this heading"></a></h3>
<p>The following test results were measured by the 4 + 32G version.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_memory_bandwidth.sh
L1 cache bandwidth rd test with # process
0.008192 12361.88
0.008192 12449.86
0.008192 13783.93
0.008192 12340.49
0.008192 12254.37
L2 cache bandwidth rd test
0.131072 11583.94
0.131072 11567.28
0.131072 11575.68
0.131072 11623.23
0.131072 11633.31
Main mem bandwidth rd test
52.43 6094.25
52.43 6115.57
52.43 6085.05
52.43 6068.85
52.43 6111.30
L1 cache bandwidth wr test with # process
0.008192 24473.79
0.008192 24422.20
0.008192 19275.65
0.008192 21933.80
0.008192 24428.48
L2 cache bandwidth wr test
0.131072 12644.41
0.131072 10001.18
0.131072 12649.41
0.131072 11240.93
0.131072 12613.62
Main mem bandwidth wr test
52.43 1193.16
52.43 1204.21
52.43 1198.73
52.43 1198.10
52.43 1204.82
L1 cache bandwidth rdwr test with # process
0.008192 13312.77
0.008192 13422.16
0.008192 10639.39
0.008192 13438.48
0.008192 13268.48
L2 cache bandwidth rdwr test
0.131072 9320.89
0.131072 9215.81
0.131072 9277.19
0.131072 9309.70
0.131072 9324.90
Main mem bandwidth rdwr test
52.43 2143.45
52.43 2101.27
52.43 2106.50
52.43 2102.70
52.43 2102.79
…

root@OK527:/#
</pre></div>
</div>
<p>The LPDDR4 bandwidth of the OK527-C-S is shown above, with a read bandwidth of about 6094M/s and a write bandwidth of about 1193M/s.</p>
</section>
<section id="id2">
<h3>4.5 Watchdog Test<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>Watchdog is a frequently used function in embedded systems, and the device node for the watchdog in OK527 is /dev/watchdog. The watchdog timeout is up to 16 seconds.</p>
<p>To activate the watchdog, set the reset time to 10 seconds, and regularly “feed” the watchdog, you can use thefltest_watchdogcommand. This command will open the watchdog and perform the necessary “feeding” operation, ensuring that the system does not reboot.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#fltest_watchdog -t 10 -c
Watchdog Ticking Away!
</pre></div>
</div>
<p>When using ctrl+c to end the test program, kicking the dog is stopped, the watchdog is on, and the system is reset after 10s.</p>
<p>If you do not want to reset, please enter the command to close the watchdog within 10 seconds after ending the program:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_watchdog -d                                          //Turn off the watchdog
</pre></div>
</div>
<p>Start watchdog, set reset time 10s, do not kick the watchdog.</p>
<p>This command turns on the watchdog, but does not feed the dog, and the system restarts after 10 seconds.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_watchdog -t 10
</pre></div>
</div>
</section>
<section id="rtc-function-test">
<h3>4.6 RTC Function Test<a class="headerlink" href="#rtc-function-test" title="Link to this heading"></a></h3>
<p><strong>Note: Ensure button cell batteries are installed &amp; voltage is normal.</strong></p>
<p><font style="color:black;">RTC </font><font style="color:black;">test, mainly through the use of </font><font style="color:black;"> date </font><font style="color:black;"> and </font><font style="color:black;"> hwclock </font><font style="color:black;"> tools to set the software and hardware time, test whether the software clock reads the </font><font style="color:black;"> RTC </font><font style="color:black;">clock synchronously when the board is powered off and then powered on.</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#date -s &quot;2023-08-01 15:16:30&quot;                              //Set software time
Tue Aug  1 15:16:30 CST 2023
root@OK527:/# hwclock -u -w                                    //Synchronize software time to hardware time
root@OK527:/# hwclock -u -r                                                //Display hardware time
Tue Aug  1 15:16:40 2023  0.000000 seconds
</pre></div>
</div>
<p><font style="color:black;">Then power down and power up the board, enter the system, and read the system time. After that, we can see that the time has synchronized.</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#date
Tue Aug  1 15:20:46 CST 2023
</pre></div>
</div>
</section>
<section id="id3">
<h3>4.7 Key Test<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>There are 9 keys on the carrier board, including 6 keys on the side. The key codes of USER, VOL +, VOL-, MENU, ENTER and HOME are 113, 115, 114, 139, 28 and 102 respectively, which correspond to PCB screen printing K9, K4, K5, K6, K7 and K8 respectively; In addition, the silk-screen K1 is an FEL key for flashing programs, K2 is a poweron key, and K3 is a reset key.</p>
<p>Execute the following command for the test of 6 keys on the side:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#fltest_keytest
key113 Presse
key113 Released
key115 Presse
key115 Released
key114 Presse
key114 Released
key139 Presse
key139 Released
key28 Presse
key28 Released
key102 Presse
key102 Released
</pre></div>
</div>
</section>
<section id="id4">
<h3>4.8 UART Test<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>OK527-C development board is provided with 6 x UART, wherein the UART ports on the development board are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>UART</strong></p></th>
<th class="head text-center"><p><strong>Device Nodes</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>UART0</p></td>
<td class="text-center"><p>/dev/ttyAS0</p></td>
<td><p>Debugging serial port cannot be used directly for this test.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART1</p></td>
<td class="text-center"><p>/dev/ttyAS1</p></td>
<td><p>Bluetooth is connected and cannot be used directly for this test.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART2</p></td>
<td class="text-center"><p>/dev/ttyAS2</p></td>
<td><p>TTL level, multiplexed with SPI, cannot be used directly for this test</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART3</p></td>
<td class="text-center"><p>/dev/ttyAS3</p></td>
<td><p>TTL level, multiplexed with SPI, cannot be used directly for this test</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART4</p></td>
<td class="text-center"><p>/dev/ttyAS4</p></td>
<td><p>RS485 level, can be used for this test.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART5</p></td>
<td class="text-center"><p>/dev/ttyAS5</p></td>
<td><p>RS485 level, can be used for this test.</p></td>
</tr>
</tbody>
</table>
<p>The current version of SDK supports up to 1.5M bps.</p>
<p>This test uses UART4 test, respectively UART4 A and B, to the USB to 485 to test the serial port.</p>
<p><img alt="Image" src="_images/9ac5087333274ebeb044552742963dd6.png" /></p>
<p>Enter the following command in the serial port of the development board:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_uarttest -d /dev/ttyAS4 -b 115200 -r &amp;
[1] 1953
root@OK527:/# fltest_uarttest -d /dev/ttyAS5 -b 115200 -w
tx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
rx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
[1]+  Done                    fltest_uarttest -d /dev/ttyAS4 -b 115200 -r
root@OK527:/#
</pre></div>
</div>
</section>
<section id="usb-to-four-serial-port-conversion-test">
<h3>4.9 USB to Four Serial Port Conversion Test<a class="headerlink" href="#usb-to-four-serial-port-conversion-test" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>Support XR21V1414USB to Serial Chip Driver;</strong></p></li>
<li><p><strong>USB to four serial port conversion is an optional module. If you have the need for it, please contact the sales personnel of Forlinx Embedded.</strong></p></li>
</ul>
<p>1. After powering on the development board, connecting the USB to four serial port modules via USB HOST shows specific printing info on the terminal;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# [   93.708671] usb 1-1.2: new full-speed USB device number 4 using sunxi-ehci
[   94.019353] cdc_xr_usb_serial 1-1.2:1.0: This device cannot do calls on its own. It is not a modem.
[   94.051170] cdc_xr_usb_serial 1-1.2:1.0: ttyXR_USB_SERIAL0: USB XR_USB_SERIAL device
[   94.071060] cdc_xr_usb_serial 1-1.2:1.2: This device cannot do calls on its own. It is not a modem.
[   94.100860] cdc_xr_usb_serial 1-1.2:1.2: ttyXR_USB_SERIAL1: USB XR_USB_SERIAL device
[   94.120908] cdc_xr_usb_serial 1-1.2:1.4: This device cannot do calls on its own. It is not a modem.
[   94.140883] cdc_xr_usb_serial 1-1.2:1.4: ttyXR_USB_SERIAL2: USB XR_USB_SERIAL device
[   94.170770] cdc_xr_usb_serial 1-1.2:1.6: This device cannot do calls on its own. It is not a modem.
[   94.183344] cdc_xr_usb_serial 1-1.2:1.6: ttyXR_USB_SERIAL3: USB XR_USB_SERIAL device
[   94.197509] usbcore: registered new interface driver cdc_xr_usb_serial
[   94.208693] xr_usb_serial_common: Exar USB UART (serial port) driver
</pre></div>
</div>
<p><font style="color:black;">2</font>. <font style="color:black;">View</font>usb</font><font style="color:black;"> device status through</font><font style="color:black;">lsusb</font><font style="color:black;">：</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# lsusb
Bus 003 Device 001: ID 1d6b:0002
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 002: ID 046d:0825
Bus 004 Device 001: ID 1d6b:0001
Bus 002 Device 001: ID 1d6b:0003
Bus 003 Device 005: ID 04e2:1414	 //The vid and pid of the conversion chip
Bus 003 Device 002: ID 1a40:0101
</pre></div>
</div>
<p><font style="color:black;">Check whether there is a production node under</font><font style="color:black;">dev</font><font style="color:black;">:</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ls /dev/ttyXRUSB*
/dev/ttyXRUSB0  /dev/ttyXRUSB1  /dev/ttyXRUSB2  /dev/ttyXRUSB3 
</pre></div>
</div>
<p><font style="color:black;">3. </font><font style="color:black;">The mapping between the four extended serial ports and their corresponding device nodes is shown in the diagram below:</font></p>
<p><img alt="Image" src="_images/ac1f795fcf05406298fc3b552a167b5c.png" /></p>
<p><font style="color:black;">4</font><font style="color:black;">Please refer to “UART Test” for the test method.</p>
</section>
<section id="gpadc-test">
<h3>4.10 GPADC Test<a class="headerlink" href="#gpadc-test" title="Link to this heading"></a></h3>
<p>The development board provides 14 channels for GPADC, with a voltage sampling range of 0 to 1.8V. Before testing the adjustable resistance value, it is necessary to short-circuit the P14 terminal. Through the P14 terminal, select which channel of the GPADC to connect to the R67 potentiometer:</p>
<p><img alt="Image" src="_images/2a65cf1e64f94334845a3e9361c070d9.png" /></p>
<p>Each channel corresponds to the following:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Schematic label</p></th>
<th class="head"><p>Event number</p></th>
<th class="head"><p>Number in soc</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GPADC3</p></td>
<td><p>/dev/input/event2</p></td>
<td><p>gpadc0_channel3</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC4</p></td>
<td><p>/dev/input/event3</p></td>
<td><p>gpadc0_channel4</p></td>
</tr>
<tr class="row-even"><td><p>GPADC5</p></td>
<td><p>/dev/input/event4</p></td>
<td><p>gpadc0_channel5</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC6</p></td>
<td><p>/dev/input/event5</p></td>
<td><p>gpadc0_channel6</p></td>
</tr>
<tr class="row-even"><td><p>GPADC7</p></td>
<td><p>/dev/input/event6</p></td>
<td><p>gpadc0_channel7</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC12</p></td>
<td><p>/dev/input/event7</p></td>
<td><p>gpadc1_channel0</p></td>
</tr>
<tr class="row-even"><td><p>GPADC13</p></td>
<td><p>/dev/input/event8</p></td>
<td><p>gpadc1_channel1</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC14</p></td>
<td><p>/dev/input/event9</p></td>
<td><p>gpadc1_channel2</p></td>
</tr>
<tr class="row-even"><td><p>GPADC15</p></td>
<td><p>/dev/input/event10</p></td>
<td><p>gpadc1_channel3</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC16</p></td>
<td><p>/dev/input/event11</p></td>
<td><p>gpadc1_channel4</p></td>
</tr>
<tr class="row-even"><td><p>GPADC17</p></td>
<td><p>/dev/input/event12</p></td>
<td><p>gpadc1_channel5</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC18</p></td>
<td><p>/dev/input/event13</p></td>
<td><p>gpadc1_channel6</p></td>
</tr>
<tr class="row-even"><td><p>GPADC19</p></td>
<td><p>/dev/input/event14</p></td>
<td><p>gpadc1_channel7</p></td>
</tr>
<tr class="row-odd"><td><p>GPADC20</p></td>
<td><p>/dev/input/event15</p></td>
<td><p>gpadc1_channel8</p></td>
</tr>
</tbody>
</table>
<p>Run the fltest _ adc, input 3, read the/dev/input/event3 event, corresponding to channel 4 of GPADC0, corresponding to schematic GPADC4.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#fltest_adc
Available devices:
/dev/input/event2:      sunxi-gpadc0/channel3/input0
/dev/input/event3:      sunxi-gpadc0/channel4/input0
/dev/input/event4:      sunxi-gpadc0/channel5/input0
/dev/input/event5:      sunxi-gpadc0/channel6/input0
/dev/input/event6:      sunxi-gpadc0/channel7/input0
/dev/input/event7:      sunxi-gpadc1/channel0/input0
/dev/input/event8:      sunxi-gpadc1/channel1/input0
/dev/input/event9:      sunxi-gpadc1/channel2/input0
/dev/input/event10:     sunxi-gpadc1/channel3/input0
/dev/input/event11:     sunxi-gpadc1/channel4/input0
/dev/input/event12:     sunxi-gpadc1/channel5/input0
/dev/input/event13:     sunxi-gpadc1/channel6/input0
/dev/input/event14:     sunxi-gpadc1/channel7/input0
/dev/input/event15:     sunxi-gpadc1/channel8/input0
Select the device event number: 3
sunxi-gpadc0/channel4/input0
[  919.877925] sunxi-gpadc 2009000.gpadc0: Enable channel 4 value 848
value 846
value 848
value 849
value 849
</pre></div>
</div>
</section>
<section id="tf-test">
<h3>4.11 TF Test<a class="headerlink" href="#tf-test" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>The SD card mounts at /run/media, allowing hot-plugging. Terminal displays SD card information.</strong></p>
<p><strong>If the file system doesn’t support NTFS, format the TF card as FAT32 before use, especially if unsure of its current format.</strong></p>
<p><strong>The device node is “/dev/mmcblk1” after the eMMC version is inserted into the TF card.</strong></p>
<p><strong>The following test commands are based on the eMMC version.</strong></p>
<p>1. Insert the TF card into the card slot on the carrier board. Under normal circumstances, the development board terminal will display the following printing information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[ 1157.138343] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 0Hz bm PP pm UP vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.149582] sunxi-mmc 4020000.sdmmc: no vqmmc,Check if there is regulator
[ 1157.169740] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.193961] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.208550] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.222435] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.237016] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.358250] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 0Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.369389] sunxi-mmc 4020000.sdmmc: no vqmmc,Check if there is regulator
[ 1157.389574] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 1 timing LEGACY(SDR12) dt B
[ 1157.408944] mmc1: host does not support reading read-only switch, assuming write-enable
[ 1157.418575] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 4 timing LEGACY(SDR12) dt B
[ 1157.431870] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 400000Hz bm PP pm ON vdd 23 width 4 timing UHS-SDR104 dt B
[ 1157.443255] sunxi-mmc 4020000.sdmmc: sdc set ios:clk 150000000Hz bm PP pm ON vdd 23 width 4 timing UHS-SDR104 dt B
[ 1157.455037] mmc1: new ultra high speed SDR104 SDHC card at address 5048
[ 1157.463121] mmcblk1: mmc1:5048 SD32G 29.7 GiB
[ 1157.470663]  mmcblk1: p1
[ 1157.474099] sunxi:sound-mach:[ERR]: 432 simple_parse_of(): simple_dai_link_of failed
[ 1157.575863] squashfs: Unknown parameter &#39;umask&#39;
[ 1157.583393] FAT-fs (mmcblk1p1): Volume was not properly unmounted. Some data may be corrupt. Please run fsck.

root@OK527:/#
</pre></div>
</div>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ls /run/media                                //List files in the/run/media directory
mmcblk0p1  mmcblk0p5  mmcblk1p1
</pre></div>
</div>
<p>3. Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# dd if=/dev/zero of=/run/media/mmcblk1p1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 10.6269 s, 49.3 MB/s
</pre></div>
</div>
<p>4. Read the test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/dev/mmcblk1p1 of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 7.56327 s, 69.3 MB/s
</pre></div>
</div>
<p>5. After using the TF card, uninstall it with umount before ejecting it.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#umount /run/media/mmcblk1p1
</pre></div>
</div>
<p><strong>Note: Plug and unplug the TF card after exiting the TF card mounting path.</strong></p>
</section>
<section id="storage-test">
<h3>4.12 Storage Test<a class="headerlink" href="#storage-test" title="Link to this heading"></a></h3>
<p>The OK527 platform’s eMMC runs by default in HS400 mode. Below is a simple test of the eMMC’s read and write speed using the ext4 file system as an example.</p>
<p>Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/dev/zero of=/run/media/mmcblk0p5/data.img bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 4.39941 s, 119 MB/s
</pre></div>
</div>
<p>Read test：</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/run/media/mmcblk0p5/data.img of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 2.16065 s, 243 MB/s
</pre></div>
</div>
</section>
<section id="usb-mouse-test">
<h3>4.13 USB Mouse Test<a class="headerlink" href="#usb-mouse-test" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>Hot-plugging of USB mouse and USB keyboard is supported.</strong></p>
<p>Connect the USB mouse to the USB interface of the OK527 platform, and the print information of the serial port terminal is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[  469.514707] usb 1-1.3: new low-speed USB device number 3 using sunxi-ehci
[  469.754922] usb 1-1.3: New USB device found, idVendor=17ef, idProduct=608d, bcdDevice= 1.00
[  469.764363] usb 1-1.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
[  469.772616] usb 1-1.3: Product: Lenovo USB Optical Mouse
[  469.778627] usb 1-1.3: Manufacturer: PixArt
[  469.786636] input: PixArt Lenovo USB Optical Mouse as /devices/platform/soc@3000000/4200000.ehci1-controller/usb1/1-1/1-1.3/1-1.3:1.0/0003:17EF:608D.0001/input/input18
[  469.803644] hid-generic 0003:17EF:608D.0001: input: USB HID v1.11 Mouse [PixArt Lenovo USB Optical Mouse] on usb-sunxi-ehci-1.3/input0
</pre></div>
</div>
<p>At this time, the arrow cursor appears on the screen, the mouse can work normally.</p>
<p>When the USB mouse is unplugged, the arrow cursor on the screen disappears and the mouse is successfully removed.</p>
</section>
<section id="usb-2-0">
<h3>4.14 USB 2.0<a class="headerlink" href="#usb-2-0" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>Support hot-plugging of USB flash drive devices;</strong></p>
<p><strong>If NTFS isn’t supported and you’re unsure of the USB drive’s format, it’s best to format it to FAT32 before using it.</strong></p>
<p><strong>Note the distinction between USB 3.0 and USB 2.0 interfaces.</strong></p>
<p>OK527 supports three USB2.0 interfaces. Users can connect USB mouse, USB keyboard, U disk and other devices on any on-board USB HOST interface, and support hot plug of the above devices. Here’s a demo using the example of mounting a USB disk.</p>
<p>The terminal shows USB flash drive info, which can vary due to the many types available.</p>
<p>1. Upon booting the development board, plug a USB flash drive into its USB host interface;</p>
<p>Serial port information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[  299.407137] usb 1-1.1: new high-speed USB device number 3 using sunxi-ehci
[  299.623907] usb 1-1.1: New USB device found, idVendor=23a9, idProduct=ef18, bcdDevice= 1.00
[  299.633348] usb 1-1.1: New USB device strings: Mfr=1, Product=2, SerialNumber=0
[  299.641597] usb 1-1.1: Product: DISK
[  299.645655] usb 1-1.1: Manufacturer: USB
[  299.650672] usb-storage 1-1.1:1.0: USB Mass Storage device detected
[  299.658180] scsi host0: usb-storage 1-1.1:1.0
[  300.667827] scsi 0:0:0:0: Direct-Access     SCSI     DISK             1.00 PQ: 0 ANSI: 4
[  300.678224] sd 0:0:0:0: [sda] 31223936 512-byte logical blocks: (16.0 GB/14.9 GiB)
[  300.687472] sd 0:0:0:0: [sda] Write Protect is off
[  300.692856] sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00
[  300.699217] sd 0:0:0:0: [sda] No Caching mode page found
[  300.705180] sd 0:0:0:0: [sda] Assuming drive cache: write through
[  300.733381]  sda: sda1
[  300.739080] sd 0:0:0:0: [sda] Attached SCSI removable disk
[  300.926482] squashfs: Unknown parameter &#39;umask&#39;
[  300.935819] FAT-fs (sda1): Volume was not properly unmounted. Some data may be corrupt. Please run fsck.
</pre></div>
</div>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ls /run/media/
mmcblk0p1  mmcblk0p5  sda1
</pre></div>
</div>
<p>“sda1” represents the first partition of the first USB storage device inserted, and so forth.</p>
<p>3. View the contents of the USB flash drive:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ls -l /run/media/sda1
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<p>4. Write test: Write speeds are limited by the specific storage device:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 58.7372 s, 8.9 MB/s
</pre></div>
</div>
<p>5. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/run/media/sda1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 18.4939 s, 28.3 MB/s
</pre></div>
</div>
<p>6. Before removing the USB flash drive, it’s necessary to unmount it using ‘’umount’’.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Unplug the USB disk after exiting the mount path.</strong></p>
</section>
<section id="otg-test">
<h3>4.15 OTG Test<a class="headerlink" href="#otg-test" title="Link to this heading"></a></h3>
<p>OK527-C board includes an OTG (On-The-Go) interface. In Device mode, it can be used for activities such as firmware flashing, ADB file transfer, and debugging. In Host mode, it allows you to connect regular USB devices to the board. When using a Type-C adapter cable to connect OK527-C to a PC, OK527-C will automatically configure OTG as Device mode. Similarly, when using an OTG cable to plug in a USB flash drive or other devices, the system will automatically configure OTG as Host mode.</p>
<p>1. After the development board boots up, connect a USB flash drive to the development board’s OTG interface using a Type-C to Type-A cable.</p>
<p>Serial port information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[  854.830829] sunxi:sunxi_usbc:[INFO]: insmod_host_driver
[  854.830829]
[  854.838363] sunxi:ehci_sunxi:[INFO]: [ehci0-controller]: sunxi_usb_enable_ehci
[  854.846465] sunxi:ehci_sunxi:[INFO]: [sunxi-ehci0]: probe, pdev-&gt;name: 4101000.ehci0-controller, sunxi_ehci: 0xffffffc009691ef8, 0x:ffffffc009d0d000, irq_no:87
[  854.862647] sunxi-ehci 4101000.ehci0-controller: supply hci not found, using dummy regulator
[  854.873372] sunxi-ehci 4101000.ehci0-controller: EHCI Host Controller
[  854.880616] sunxi-ehci 4101000.ehci0-controller: new USB bus registered, assigned bus number 5
[  854.890346] sunxi-ehci 4101000.ehci0-controller: irq 135, io mem 0x04101000
[  854.910818] sunxi-ehci 4101000.ehci0-controller: USB 2.0 started, EHCI 1.00
[  854.918710] usb usb5: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 5.15
[  854.927990] usb usb5: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[  854.936091] usb usb5: Product: EHCI Host Controller
[  854.941559] usb usb5: Manufacturer: Linux 5.15.147 ehci_hcd
[  854.947804] usb usb5: SerialNumber: sunxi-ehci
[  854.953154] hub 5-0:1.0: USB hub found
[  854.957379] hub 5-0:1.0: 1 port detected
[  854.961978] sunxi:ohci_sunxi:[INFO]: [ohci0-controller]: sunxi_usb_enable_ohci
[  854.970099] sunxi:ohci_sunxi:[INFO]: [sunxi-ohci0]: probe, pdev-&gt;name: 4101400.ohci0-controller, sunxi_ohci: 0xffffffc009692b88
[  854.983136] sunxi-ohci 4101400.ohci0-controller: supply hci not found, using dummy regulator
[  854.992743] sunxi-ohci 4101400.ohci0-controller: OHCI Host Controller
[  854.999983] sunxi-ohci 4101400.ohci0-controller: new USB bus registered, assigned bus number 6
[  855.009657] debugfs: Directory &#39;sunxi-ohci&#39; with parent &#39;ohci&#39; already present!
[  855.017887] sunxi-ohci 4101400.ohci0-controller: irq 136, io mem 0x04101400
[  855.086895] usb usb6: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 5.15
[  855.096168] usb usb6: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[  855.104269] usb usb6: Product: OHCI Host Controller
[  855.109736] usb usb6: Manufacturer: Linux 5.15.147 ohci_hcd
[  855.115983] usb usb6: SerialNumber: sunxi-ohci
[  855.121260] hub 6-0:1.0: USB hub found
[  855.125483] hub 6-0:1.0: 1 port detected
[  855.218822] usb 5-1: new high-speed USB device number 2 using sunxi-ehci
[  855.382081] usb 5-1: New USB device found, idVendor=05e3, idProduct=0747, bcdDevice= 8.19
[  855.391268] usb 5-1: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[  855.399272] usb 5-1: Product: USB Storage
[  855.403764] usb 5-1: Manufacturer: Generic
[  855.408353] usb 5-1: SerialNumber: 000000000819
[  855.414264] usb-storage 5-1:1.0: USB Mass Storage device detected
[  855.421491] scsi host0: usb-storage 5-1:1.0
[  856.431909] scsi 0:0:0:0: Direct-Access     Generic  STORAGE DEVICE   0819 PQ: 0 ANSI: 6
[  856.962020] sd 0:0:0:0: [sda] 31116288 512-byte logical blocks: (15.9 GB/14.8 GiB)
[  856.971757] sd 0:0:0:0: [sda] Write Protect is off
[  856.977140] sd 0:0:0:0: [sda] Mode Sense: 87 00 00 00
[  856.984008] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#39;t support DPO or FUA
[  857.005850]  sda: sda1
[  857.012361] sd 0:0:0:0: [sda] Attached SCSI removable disk
[  857.237318] FAT-fs (sda1): Volume was not properly unmounted. Some data may be corrupt. Please run fsck.

</pre></div>
</div>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ls /run/media/
mmcblk0p1  mmcblk0p5  sda1
</pre></div>
</div>
<p>“sda1” represents the first partition of the first USB storage device inserted, and so forth.</p>
<p>3. View the contents of the USB flash drive:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ls -l /run/media/sda1
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<p>4. Write test: Write speeds are limited by the specific storage device:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 63.8278 s, 8.2 MB/s
</pre></div>
</div>
<p>5. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#dd if=/run/media/sda1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 18.2891 s, 28.7 MB/s
</pre></div>
</div>
<p>6. Before removing the USB flash drive, it’s necessary to unmount it using ‘’umount’’.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#umount /run/media/sda1
</pre></div>
</div>
</section>
<section id="ethernet-configuration">
<h3>4.16 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading"></a></h3>
<p>OK527-C comes with 2 x Gigabit Ethernet ports. When connected to the network via an Ethernet cable, the factory default configuration sets eth0 to the static IP 192.168.0.232. The OK527-C’s network card can be configured via the configuration file /etc/network/interfaces.</p>
<section id="gigabit-ethernet-static-ip-configuration">
<h4>4.16.1 Gigabit Ethernet Static IP Configuration<a class="headerlink" href="#gigabit-ethernet-static-ip-configuration" title="Link to this heading"></a></h4>
<p><strong>Note: In the kernel, the Gigabit Ethernet card is identified as eth0, and its default IP address is 192.168.0.232.</strong></p>
<p>After booting the development board, execute the following command to open the network configuration file/etc/network/interfaces</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#vi /etc/network/interfaces
</pre></div>
</div>
<p>Content as follows (slight differences may occur after software version updates; users should refer to actual information):</p>
<p>iface：Used to specify a network card that requires a fixed IP;</p>
<p>address: Used to specify an IP address that needs to be fixed;</p>
<p>netmask: Used to set the subnet mask;</p>
<p>gateway: Used to specify a gateway;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /etc/network/interfaces
# interface file auto-generated by buildroot

auto lo
iface lo inet loopback

auto eth0
iface eth0 inet static
address 192.168.0.232
netmask 255.255.255.0
gateway 192.168.0.1
root@OK527:/#
</pre></div>
</div>
<p><font style="color:black;">Set</font><font style="color:black;">nameserver</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#vi /etc/resolve.conf

nameserver  114.114.114.114
nameserver  8.8.8.8
</pre></div>
</div>
<p>After setting according to the actual situation, save and exit, use sync to synchronize, restart the development board or execute the ip addr flush dev eth0 to clear the network card ip, and then use the ifdown-a and ifup-a commands to restart and stop the configuration, so that the configuration file can take effect.</p>
</section>
<section id="ethernet-speed-test">
<h4>4.16.2 Ethernet Speed Test<a class="headerlink" href="#ethernet-speed-test" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<p><strong>Test the communication speed between the development board and the computer to ensure that they can communicate properly.</strong></p>
<p><strong>The iperf3 tool (02-User Data\01-Software Data\04-Tools\iperf-3.1.3-win64.zip) is assumed to be installed on Windows for this test.</strong></p>
<p><font style="color:black;">Use network speed testing tool</font><font style="color:black;">iperf3</font><font style="color:black;">,test</font><font style="color:black;">OK527-C</font><font style="color:black;">carrier board</font><font style="color:black;">eth0</font><font style="color:black;">network speed.</font></p>
<p><font style="color:black;">Run</font><font style="color:black;">iperf3</font><font style="color:black;"> server mode on the</font><font style="color:black;">cmd</font><font style="color:black;"> command terminal in </font><font style="color:black;">Windows</font><font style="color:black;">:</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>D:\iperf-3.1.3-win64\iperf-3.1.3-win64&gt;iperf3.exe -s
</pre></div>
</div>
<p><img alt="Image" src="_images/06c8eebdc99a425093101b437aaa0257.png" /></p>
<p><font style="color:black;">Development board</font><font style="color:black;">eth0</font><font style="color:black;"></font><font style="color:black;">ip</font><font style="color:black;">is</font><font style="color:black;">192.168.1.11</font><font style="color:black;">，</font><font style="color:black;">windows</font><font style="color:black;"></font><font style="color:black;">IP</font><font style="color:black;">is</font><font style="color:black;">192.168.1.39</font><font style="color:black;">, </font><font style="color:black;"> </font><font style="color:black;">input at the OK527 serial port debugging terminal</font>.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# iperf3 -c 192.168.1.39            //Test upload bandwidth
Connecting to host 192.168.1.39, port 5201
[  5] local 192.168.1.11 port 55152 connected to 192.168.1.39 port 5201
[ ID] Interval           Transfer     Bitrate         Retr  Cwnd
[  5]   0.00-1.00   sec  95.2 MBytes   799 Mbits/sec    0    217 KBytes
[  5]   1.00-2.00   sec  93.0 MBytes   780 Mbits/sec    0    217 KBytes
[  5]   2.00-3.00   sec  95.3 MBytes   800 Mbits/sec    0    217 KBytes
[  5]   3.00-4.00   sec  94.8 MBytes   796 Mbits/sec    0    217 KBytes
[  5]   4.00-5.00   sec  93.9 MBytes   787 Mbits/sec    0    217 KBytes
[  5]   5.00-6.00   sec  94.4 MBytes   792 Mbits/sec    0    217 KBytes
[  5]   6.00-7.00   sec  93.3 MBytes   783 Mbits/sec    0    217 KBytes
[  5]   7.00-8.00   sec  94.3 MBytes   791 Mbits/sec    0    217 KBytes
[  5]   8.00-9.00   sec  90.2 MBytes   756 Mbits/sec    1    217 KBytes
[  5]   9.00-10.00  sec  94.0 MBytes   789 Mbits/sec    0    217 KBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate         Retr
[  5]   0.00-10.00  sec   939 MBytes   787 Mbits/sec    1             sender
[  5]   0.00-10.00  sec   938 MBytes   787 Mbits/sec                  receiver

iperf Done.
root@OK527:/# iperf3 -c 192.168.1.39 -R            //Test download bandwidth
Connecting to host 192.168.1.39, port 5201
Reverse mode, remote host 192.168.1.39 is sending
[  5] local 192.168.1.11 port 40676 connected to 192.168.1.39 port 5201
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-1.00   sec   113 MBytes   946 Mbits/sec
[  5]   1.00-2.00   sec   109 MBytes   916 Mbits/sec
[  5]   2.00-3.00   sec   112 MBytes   940 Mbits/sec
[  5]   3.00-4.00   sec   112 MBytes   944 Mbits/sec
[  5]   4.00-5.00   sec   108 MBytes   907 Mbits/sec
[  5]   5.00-6.00   sec   110 MBytes   924 Mbits/sec
[  5]   6.00-7.00   sec   111 MBytes   934 Mbits/sec
[  5]   7.00-8.00   sec   111 MBytes   928 Mbits/sec
[  5]   8.00-9.00   sec   112 MBytes   941 Mbits/sec
[  5]   9.00-10.00  sec   110 MBytes   919 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-10.00  sec  1.08 GBytes   930 Mbits/sec                  sender
[  5]   0.00-10.00  sec  1.08 GBytes   930 Mbits/sec                  receiver

iperf Done.
root@OK527:/#
</pre></div>
</div>
<p><font style="color:black;">OK527-C </font><font style="color:black;">Gigabit network bandwidth is</font><font style="color:black;">:</font></p>
<p>Eth0 upload speed 787Mbps，download speed 930Mbps</p>
<p>Eth1 upload speed 948Mbps， download speed 945Mbps</p>
</section>
</section>
<section id="network-services">
<h3>4.17 Network Services<a class="headerlink" href="#network-services" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>The default IP for eth0 is 192.168.0.232</strong></p>
<section id="web-services">
<h4>4.17.1 Web Services<a class="headerlink" href="#web-services" title="Link to this heading"></a></h4>
<p><strong>Note: To properly use this feature, the PC’s IP address must be in the same network segment as the development board’s.</strong></p>
<p>The OK527 development board comes with the lighttpd web server pre-installed, and the lighttpd service has been automatically started at system startup. Enter the IP address of the board into the PC browser to view the web pages in the board’s webserver, as shown in the following figure:</p>
<p><img alt="Image" src="_images/aaa38263111348619ee5b3ca3e5b19e0.png" /></p>
</section>
<section id="sftp">
<h4>4.17.2 SFTP<a class="headerlink" href="#sftp" title="Link to this heading"></a></h4>
<p>Installation package path: 02-User information \ 01-Software information \ 04-Tools \ FileZilla*</p>
<p>The OK527-C development board supports SFTP service, and it is automatically enabled during system startup. Once the IP address is set, it can function as an SFTP server. The following describes how to utilize the SFTP tool for file transfer.</p>
<p>Install FileZilla tool on Windows and follow the steps shown in the image below to set it up.</p>
<p>Open the filezilla tool, click on File and select Site Manager.</p>
<p><img alt="Image" src="_images/d6d577e43f1040b1be75c0af16720c56.png" /></p>
<p><img alt="Image" src="_images/c6b101f0d6c3475691c1fe5ae9b55718.png" /></p>
<p>Once we have successfully logged in, we can upload and download.</p>
</section>
</section>
<section id="id5">
<h3>4.18 WIFI Test<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<section id="sta-mode">
<h4>4.18.1 STA Mode<a class="headerlink" href="#sta-mode" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<p><strong>The network environment is different, so please set it according to the actual situation when you do this experiment.</strong></p>
<p><strong>The development board supports the connection of 2.4G and 5G wireless hotspots</strong></p>
<p>This mode is used as a station to connect to the wireless network. In the following test, the router uses WPA encryption, the connected wifi is 2.4GHz, the hotspot name is H3C _ 708, and the password is 123456785. Due to the different network environments, users should set up according to the actual situation when conducting this test:</p>
<p>1. Enter the following command in the development board terminal:</p>
<p>The meanings of the related parameters in the command are as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>-i</p></td>
<td><p>Wireless NIC Node Name</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>-s</p></td>
<td><p>Actual wifi hotspot connected</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>-p</p></td>
<td><p>-p：followed by the parameter Password refers to the password of the actual wifi hotspot to be connected. If the current hotspot does not have a password, the parameter after -p is NONE.</p></td>
</tr>
</tbody>
</table>
<p>The serial port prints as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_wifi.sh -i wlan0 -s H3C_708 -p 123456785.
[  204.803506] sunxi-gmac 4500000.gmac0 eth0: Link is Down
wifi wlan0
ssid H3C_708
pasw 123456785.
waiting...
[  211.388935] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
udhcpc: started, v1.35.0
udhcpc: broadcasting discover
udhcpc: broadcasting discover
udhcpc: broadcasting select for 192.168.1.20, server 192.168.1.1
udhcpc: lease of 192.168.1.20 obtained from 192.168.1.1, lease time 86400
deleting routers
adding dns 192.168.1.1
adding dns 114.114.114.114
connect ok
</pre></div>
</div>
<p>2. Check whether it can ping the external network and enter the following command in the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ping -I wlan0 baidu.com -c 4            //Assign the wlan0 NIC to ping 4 times
PING baidu.com (110.242.68.66): 56 data bytes
64 bytes from 110.242.68.66: seq=0 ttl=54 time=95.213 ms
64 bytes from 110.242.68.66: seq=1 ttl=54 time=119.289 ms
64 bytes from 110.242.68.66: seq=2 ttl=54 time=40.234 ms
64 bytes from 110.242.68.66: seq=3 ttl=54 time=64.454 ms

--- baidu.com ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 40.234/79.797/119.289 ms
</pre></div>
</div>
</section>
<section id="ap-mode">
<h4>4.18.2 AP Mode<a class="headerlink" href="#ap-mode" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<p><strong>Ensure that the Gigabit LAN card is eth0 connected to the network and that the network works well before performing this test;</strong></p>
<p><strong>5GHz hotspot on by default</strong></p>
<p><strong>To enable the 2.4GHz hotspot and modify the/usr/bin/fltest _ hostap. sh, change “hostapd/etc/hostapd-5g.conf &amp;” to “hostapd/etc/hostapd-2.4g.conf &amp;”</strong></p>
<p>1. Configure Hotspot</p>
<p>WiFi Hotspot Name: OK527_WIFI_5G_AP</p>
<p>Password: 12345678</p>
<p>Check by hotspot name, password and /etc/hostapd-5g.conf.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_hostap.sh
done!
uap0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
[   74.247545] IPv6: ADDRCONF(NETDEV_CHANGE): uap0: link becomes ready
uap0: interface state COUNTRY_UPDATE-&gt;ENABLED
uap0: AP-ENABLED
uap0: STA 86:de:12:63:58:96 IEEE 802.11: authenticated
uap0: STA 86:de:12:63:58:96 IEEE 802.11: associated (aid 1)
uap0: AP-STA-CONNECTED 86:de:12:63:58:96
uap0: STA 86:de:12:63:58:96 WPA: pairwise key handshake completed (RSN)
uap0: EAPOL-4WAY-HS-COMPLETED 86:de:12:63:58:96
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h3>4.19 4G Test<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>The driver supports the Quectel EC20 4G module .</strong></p>
<p>OK527 supports a 4G module. Before starting the development board, connect the 4G module, install the 4G antenna, insert the SIM card, and then power on the board. Perform a dial-up internet connection on the EC20 module.</p>
<section id="ec20-test">
<h4>4.19.1 EC20 Test<a class="headerlink" href="#ec20-test" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<p><strong>When testing with an IoT card, ensure the module’s firmware version; older versions may require upgrading to EC20 firmware for compatibility.</strong></p>
<p><strong>Some IoT SIM cards may require specific account credentials when dialing. Users should adjust the instructions accordingly based on the actual situation.</strong></p>
<p><strong>You can use the quectelCM –help command to see the meaning of the relevant parameters.</strong></p>
<p>1. After connecting the module and powering up the board and module, check the USB status through the lsusb command;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# lsusb
Bus 005 Device 001: ID 1d6b:0002
Bus 003 Device 001: ID 1d6b:0002
Bus 003 Device 003: ID 2c7c:0125        //EC20
Bus 001 Device 001: ID 1d6b:0002
Bus 005 Device 002: ID 05e3:0747
Bus 006 Device 001: ID 1d6b:0001
Bus 001 Device 002: ID 046d:0825
Bus 004 Device 001: ID 1d6b:0001
Bus 002 Device 001: ID 1d6b:0003
Bus 003 Device 002: ID 1a40:0101
</pre></div>
</div>
<p>View device node status under /dev</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#ls /dev/ttyUSB*
/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2  /dev/ttyUSB3
</pre></div>
</div>
<p>2. After the equipment is successfully identified, the dial-up Internet access test can be conducted;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#fltest_quectel.sh &amp;
</pre></div>
</div>
<p>Printing information is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[08-01_15:52:56:355] Quectel_QConnectManager_Linux_V1.6.0.15
[08-01_15:52:56:356] Find /sys/bus/usb/devices/3-1.4 idVendor=0x2c7c idProduct=0x125, bus=0x003, dev=0x003
[08-01_15:52:56:356] Auto find qmichannel = /dev/cdc-wdm0
[08-01_15:52:56:356] Auto find usbnet_adapter = usb0
[08-01_15:52:56:356] netcard driver = qmi_wwan_q, driver version = V1.2.9
[08-01_15:52:56:356] ioctl(0x89f3, qmap_settings) failed: Operation not supported, rc=-1
[08-01_15:52:56:357] Modem works in QMI mode
[08-01_15:52:56:362] cdc_wdm_fd = 7
[08-01_15:52:56:448] Get clientWDS = 7
[08-01_15:52:56:480] Get clientDMS = 1
[08-01_15:52:56:512] Get clientNAS = 2
[08-01_15:52:56:544] Get clientUIM = 1
[08-01_15:52:56:576] Get clientWDA = 1
[08-01_15:52:56:608] requestBaseBandVersion EC20CEHDLGR06A09M1G
[08-01_15:52:56:736] requestGetSIMStatus SIMStatus: SIM_READY
[08-01_15:52:56:768] requestGetProfile[1] 3gnet///0
[08-01_15:52:56:800] requestRegistrationState2 MCC: 460, MNC: 1, PS: Attached, DataCap: LTE
[08-01_15:52:56:832] requestQueryDataCall IPv4ConnectionStatus: DISCONNECTED
[08-01_15:52:56:832] ifconfig usb0 0.0.0.0
[08-01_15:52:56:839] ifconfig usb0 down
[08-01_15:52:56:896] requestSetupDataCall WdsConnectionIPv4Handle: 0x86d8a500
[08-01_15:52:57:024] ifconfig usb0 up
[08-01_15:52:57:031] udhcpc -f -n -q -t 5 -i usb0
udhcpc: started, v1.35.0
udhcpc: broadcasting discover
udhcpc: broadcasting select for 10.104.48.49, server 10.104.48.50
udhcpc: lease of 10.104.48.49 obtained from 10.104.48.50, lease time 7200
[08-01_15:52:57:232] deleting routers
[08-01_15:52:57:252] adding dns 202.99.160.68
[08-01_15:52:57:252] adding dns 202.99.166.4

</pre></div>
</div>
<p>If it can automatically allocate an IP and add DNS, then the EC20 dial-up is successful.</p>
<p>3. After successfully dialing, use the ifconfig command to check the network interface, which is typically named usb0 (the interface name may vary depending on the actual situation). Then, test the network status using the ping command;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ping -I usb0 baidu.com -c4
PING baidu.com (110.242.68.66): 56 data bytes
64 bytes from 110.242.68.66: seq=0 ttl=53 time=59.096 ms
64 bytes from 110.242.68.66: seq=1 ttl=53 time=69.325 ms
64 bytes from 110.242.68.66: seq=2 ttl=53 time=69.955 ms
64 bytes from 110.242.68.66: seq=3 ttl=53 time=83.063 ms

--- baidu.com ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 59.096/70.359/83.063 ms
</pre></div>
</div>
</section>
</section>
<section id="id7">
<h3>4.20 Play/Record Test<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<p><strong>OK527 provides 1 3.5mm audio jack and 2 XH-2.54-2PS speaker ports, with both the carrier board mic and headphone mic capable of recording.</strong></p>
<p>Playback test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# aplay /forlinx/audio/30s.wav
root@OK527:/# mpg123 /forlinx/audio/30s.mp3
</pre></div>
</div>
<p>Volume control:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK527:/#<span class="w"> </span>amixer<span class="w">		</span>//Read<span class="w"> </span>the<span class="w"> </span>audio<span class="w"> </span>configuration,<span class="w"> </span>where<span class="w"> </span>HPOUT<span class="w"> </span>Gain<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>headphone<span class="w"> </span>volume
...<span class="w"> </span>...
Simple<span class="w"> </span>mixer<span class="w"> </span>control<span class="w"> </span><span class="s1">&#39;HPOUT Gain&#39;</span>,0
<span class="w">  </span>Capabilities:<span class="w"> </span>volume<span class="w"> </span>volume-joined
<span class="w">  </span>Playback<span class="w"> </span>channels:<span class="w"> </span>Mono
<span class="w">  </span>Capture<span class="w"> </span>channels:<span class="w"> </span>Mono
<span class="w">  </span>Limits:<span class="w"> </span><span class="m">0</span><span class="w"> </span>-<span class="w"> </span><span class="m">7</span>
<span class="w">  </span>Mono:<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>
...<span class="w"> </span>...
root@OK527:/#<span class="w"> </span>amixer<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="s2">&quot;HPOUT Gain&quot;</span><span class="w"> </span><span class="m">5</span><span class="w">		</span>//Set<span class="w"> </span>the<span class="w"> </span>volume<span class="w"> </span>to<span class="w"> </span><span class="m">5</span><span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>level<span class="w"> </span>to<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span><span class="m">7</span>
Simple<span class="w"> </span>mixer<span class="w"> </span>control<span class="w"> </span><span class="s1">&#39;HPOUT Gain&#39;</span>,0
<span class="w">  </span>Capabilities:<span class="w"> </span>volume<span class="w"> </span>volume-joined
<span class="w">  </span>Playback<span class="w"> </span>channels:<span class="w"> </span>Mono
<span class="w">  </span>Capture<span class="w"> </span>channels:<span class="w"> </span>Mono
<span class="w">  </span>Limits:<span class="w"> </span><span class="m">0</span><span class="w"> </span>-<span class="w"> </span><span class="m">7</span>
<span class="w">  </span>Mono:<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">[</span><span class="m">71</span>%<span class="o">]</span>
</pre></div>
</div>
<p>When the earphone is not plugged in, it is output by the speaker. When the earphone is plugged in, the speaker is muted and output by the earphone.</p>
<p>HDMI audio test</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: audiocodec [audiocodec], device 0: sunxi-snd-plat-aaudio-sunxi-snd-codec 7110000.codec-0 []
Subdevices: 1/1
Subdevice #0: subdevice #0
card 1: sndhdmi [sndhdmi], device 0: sunxi-snd-plat-i2s-soc@3000000:hdmi_codec soc@3000000:hdmi_code []
Subdevices: 1/1
Subdevice #0: subdevice #0
root@OK527:/# aplay  -D plughw:1,0 /forlinx/audio/30s.wav
</pre></div>
</div>
<p><strong>Note: HDMI display needs to be configured on the UBOOT menu.</strong></p>
<p>Recording test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# arecord -c2 -r 48000 -f S16_LE -d 3 mic.wav
Recording WAVE &#39;mic.wav&#39; : [ 4608.610608] [SNDCODEC][sunxi_card_hw_params][630]:stream_flag: 1
Signed 16 bit Little Endian, Rate 48000 Hz, Stereo
</pre></div>
</div>
<p>The recording will collect the carrier board mic and the earphone mic as the left and right channels of the recording.</p>
</section>
<section id="lcd-backlight-adjustment">
<h3>4.21 LCD Backlight Adjustment<a class="headerlink" href="#lcd-backlight-adjustment" title="Link to this heading"></a></h3>
<p>Backlight level range (0–255), maximum level 255, 0 indicating turn off. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<p>When the LCD screen (lcd 800x480, lcd 1024x600, mipi 1024x600, lvds 1280x800) is selected as “Primary Disp”, usefltest_backlight get 0;otherwise, usefltest_backlight get 1.The following command is an example assuming the LCD screen is selected as “Primary Disp”.</p>
<p>1. View the current screen backlight value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_backlight get 0
Current brightness: 50                                          //The current backlight value is 50
</pre></div>
</div>
<p>2. Backlight is off:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_backlight set 0 0
The brightness has been set to: 0                               //Turn off the backlight
</pre></div>
</div>
<p>3. LCD backlight is on:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_backlight set 0 125
The brightness has been set to: 125                             //Set backlight to 1
root@OK527:/# fltest_backlight get 0
Current brightness: 125		                                    //Backlight modification is successful
</pre></div>
</div>
</section>
<section id="closing-the-desktop">
<h3>4.22 Closing the Desktop<a class="headerlink" href="#closing-the-desktop" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# /etc/init.d/S42matrix-browser stop                      //Turn off the desktop
Stopping matrix-browser: OK
root@OK527:/# /etc/init.d/S42matrix-browser start					  //Turn on the desktop
Starting matrix-browser: OK
</pre></div>
</div>
</section>
<section id="led-test">
<h3>4.23 LED Test<a class="headerlink" href="#led-test" title="Link to this heading"></a></h3>
<p>The OK527-C SoM has a controllable red LED that flashes when the card is powered on.</p>
<p>The testing method is as follows:</p>
<p>1. To view trigger conditions:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/class/leds/heartbeat/trigger
none rc-feedback rfkill-any rfkill-none kbd-scrolllock kbd-numlock kbd-capslock kbd-kanalock kbd-shiftlock kbd-altgrlock kbd-ctrllock kbd-altlock kbd-shiftllock kbd-shiftrlock kbd-ctrlllock kbd-ctrlrlock mmc0 mmc1 [heartbeat] rfkill0
</pre></div>
</div>
<p>Where [heartbeat] indicates that the current trigger condition is the system heartbeat light. Write the above string in trigger to modify the trigger condition.</p>
<p>2. User Control</p>
<p>When the led trigger condition is set to none, the user can control the on and off of the led lamp through the command:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo none &gt; /sys/class/leds/heartbeat/trigger
root@OK527:/# echo 1 &gt; /sys/class/leds/heartbeat/brightness
root@OK527:/# echo 0 &gt; /sys/class/leds/heartbeat/brightness
</pre></div>
</div>
<p>3. Change the red LED to a heartbeat light</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo heartbeat &gt; /sys/class/leds/heartbeat/trigger
</pre></div>
</div>
<p>At this time, the LED has a system clock control, blinking according to a certain rhythm.</p>
</section>
<section id="sqlite3-test">
<h3>4.24 SQLite3 Test<a class="headerlink" href="#sqlite3-test" title="Link to this heading"></a></h3>
<p>SQLite3 is a lightweight, ACID-compliant relational database management system with a low footprint. The OK527-C development board is ported with version 3.25.3 of sqlit3.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# sqlite3
SQLite version 3.38.5 2022-05-06 15:25:27
Enter &quot;.help&quot; for usage hints.
Connected to a transient in-memory database.
Use &quot;.open FILENAME&quot; to reopen on a persistent database.
root@OK527:/# sqlite3
SQLite version 3.38.5 2022-05-06 15:25:27
Enter &quot;.help&quot; for usage hints.
Connected to a transient in-memory database.
Use &quot;.open FILENAME&quot; to reopen on a persistent database.
sqlite&gt; create table tbl1 (one varchar(10), two smallint);	//Create tbl1
sqlite&gt; insert into tbl1 values(&#39;hello!&#39;,10);		
sqlite&gt; insert into tbl1 values(&#39;goodbye&#39;, 20);				//Insert data in the table tbl1
sqlite&gt; select * from tbl1;									//Query the contents in table tbl1
hello!|10
goodbye|20
sqlite&gt; delete from tbl1 where one = &#39;hello!&#39;;				//Delete the data
sqlite&gt; select * from tbl1;									//Query the contents in table tbl1
goodbye|20
sqlite&gt; .quit												//Exit the database (or use the.exit command)
root@OK527:/#
</pre></div>
</div>
</section>
<section id="boot-script-configuration">
<h3><strong>4.25 Boot Script Configuration</strong><a class="headerlink" href="#boot-script-configuration" title="Link to this heading"></a></h3>
<section id="temporary-autoboot-script-setup">
<h4><strong>4.25.1 Temporary Autoboot Script Setup</strong><a class="headerlink" href="#temporary-autoboot-script-setup" title="Link to this heading"></a></h4>
<p>1. Create a shell script first:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# vi /etc/autorun.sh
</pre></div>
</div>
<p>Modify the file reference as follows (users need to modify according to the actual situation):</p>
<p><img alt="Image" src="_images/ad525e3b3519432fad1178ebde105f37.png" /></p>
<p>2. After modification, save and exit, and add execution permission to the script</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/#chmod +x /etc/autorun.sh
</pre></div>
</div>
<p>3. Add at the end of the /etc/init.d/rcS file</p>
<p>/etc/autorun.sh &amp;</p>
<p>Save and Exit</p>
</section>
<section id="flash-image-boot-script-integration">
<h4><strong>4.25.2 Flash-Image Boot Script Integration</strong><a class="headerlink" href="#flash-image-boot-script-integration" title="Link to this heading"></a></h4>
<p>Add a startup script during image flashing, you need to modify the source code in the development environment. Here are the steps to follow:</p>
<p>1. Enter the OK527-linux-sdk source code package, and create a autorun. sh file under the following path: buildroot/buildroot-202205/board/forlinx/okt527/fs-overlay/etc.</p>
<p>The format of the content is as follows, and the user can modify it according to the actual needs:</p>
<p><img alt="Image" src="_images/11a6e7037780404e9e7f1a2c5189ef6c.png" /></p>
<p>Use thechmod +x autorun.shcommand toadd execution permissions to the file.</p>
<p>2. Add the newly created shell script to the OK527 root filesystem rcS file.</p>
<p>Copy rcS from out/t527/okt527/buildroot/buildroot/target/etc/init.d/rcS</p>
<p>to buildroot/buildroot-202205/board/worldinx/okt527/fs overlay/etc/init.d/</p>
<p>Add a shell statement at the end of the buildroot/buildroot-202205/board/worldinx/okt527/fs overlay/etc/init.d/rcS file:/etc/autorun.sh&amp;.</p>
<p>3. Recompile and package</p>
<p>Please refer to the compilation chapter of “OK527-C_Linux5.15.104+Qt5.12.5 User’s Compilation Manual”.</p>
</section>
</section>
<section id="a55-coremark-test">
<h3>4.26 A55 CoreMark Test<a class="headerlink" href="#a55-coremark-test" title="Link to this heading"></a></h3>
<p>The most well-known and commonly used Benchmarks in the field of embedded processors are Dhrystone and CoreMark. CoreMark is a comprehensive benchmark that is used to measure the performance of the central processing unit (CPU) employed in embedded systems. It was developed by shay gal-on of eembc in 2009, aiming to become an industry standard and replace the outdated dehrystone benchmark.</p>
<p>The OK527-C platform has the CoreMark test program ported by default, and you can use the following commands to test it:</p>
<p>1. Set the CPU small core and large core to high-performance mode respectively.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo performance &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@OK527:/# echo performance &gt; /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor
</pre></div>
</div>
<p>2. CoreMark test</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# coremark
2K performance run parameters for coremark.
CoreMark Size    : 666
Total ticks      : 16379
Total time (secs): 16.379000
Iterations/Sec   : 6715.916723
Iterations       : 110000
Compiler version : GCC10.3.1 20210621
Compiler flags   : -O2   -lrt
Memory location  : Please put data memory location here
(e.g. code in flash, data on heap etc)
seedcrc          : 0xe9f5
[0]crclist       : 0xe714
[0]crcmatrix     : 0x1fd7
[0]crcstate      : 0x8e3a
[0]crcfinal      : 0x33ff
Correct operation validated. See readme.txt for run and reporting rules.
CoreMark 1.0 : 6715.916723 / GCC10.3.1 20210621 -O2   -lrt / Heap
root@OK527:/#
</pre></div>
</div>
</section>
<section id="a55-dhrystone-test">
<h3>4.27 A55 Dhrystone Test<a class="headerlink" href="#a55-dhrystone-test" title="Link to this heading"></a></h3>
<p>Dhrystone is a comprehensive benchmark program designed by Reinhold P. Weicker in 1984, used to test CPU (integer) computing performance. Dhrystone does not include floating-point operations, and its output is the number of times Dhrystone is run per second, which corresponds to the number of iterations of the main loop per second.</p>
<p>The Dhrystone testing program has been successfully ported to the OK527-C platform. You can use the following command to run the test.</p>
<p>1. Set the CPU to high performance mode</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo performance &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@OK527:/# echo performance &gt; /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor
</pre></div>
</div>
<p>2. Dhrystone test</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ OK527:/# echo 50000000 | dhrystone        //Run the Dhrystone test 50000000 times

Dhrystone Benchmark, Version 2.1 (Language: C)

Program compiled without &#39;register&#39; attribute

Please give the number of runs through the benchmark:
Execution starts, 50000000 runs through Dhrystone
Execution ends

Final values of the variables used in the benchmark:

Int_Glob:            5
should be:   5
Bool_Glob:           1
should be:   1
Ch_1_Glob:           A
should be:   A
Ch_2_Glob:           B
should be:   B
Arr_1_Glob[8]:       7
should be:   7
Arr_2_Glob[8][7]:    50000010
should be:   Number_Of_Runs + 10
Ptr_Glob-&gt;
Ptr_Comp:          -1692515680
should be:   (implementation-dependent)
Discr:             0
should be:   0
Enum_Comp:         2
should be:   2
Int_Comp:          17
should be:   17
Str_Comp:          DHRYSTONE PROGRAM, SOME STRING
should be:   DHRYSTONE PROGRAM, SOME STRING
Next_Ptr_Glob-&gt;
Ptr_Comp:          -1692515680
should be:   (implementation-dependent), same as above
Discr:             0
should be:   0
Enum_Comp:         1
should be:   1
Int_Comp:          18
should be:   18
Str_Comp:          DHRYSTONE PROGRAM, SOME STRING
should be:   DHRYSTONE PROGRAM, SOME STRING
Int_1_Loc:           5
should be:   5
Int_2_Loc:           13
should be:   13
Int_3_Loc:           7
should be:   7
Enum_Loc:            1
should be:   1
Str_1_Loc:           DHRYSTONE PROGRAM, 1&#39;ST STRING
should be:   DHRYSTONE PROGRAM, 1&#39;ST STRING
Str_2_Loc:           DHRYSTONE PROGRAM, 2&#39;ND STRING
should be:   DHRYSTONE PROGRAM, 2&#39;ND STRING

Microseconds for one run through Dhrystone:    0.2
Dhrystones per Second:                      6090134.0

root@OK527:/#
</pre></div>
</div>
</section>
<section id="chip-id-verification">
<h3>4.28 Chip-ID Verification<a class="headerlink" href="#chip-id-verification" title="Link to this heading"></a></h3>
<p>Serial debug terminal input:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cat /sys/class/sunxi_info/sys_info
sunxi_platform    : T527
sunxi_secure      : normal
sunxi_serial      : 40821e9375789d0c000050c000000000
sunxi_chiptype    : 00005f10
sunxi_batchno     : 0x18900002
sunxi_soc_ver    : 0x2
</pre></div>
</div>
</section>
<section id="id8">
<h3>4.29 CAN Test<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<p>There are 2 x CAN on the carrier board, which are led out to the P41 connecting seat.</p>
<p>Short H, L, and GND of can0 and can1, respectively, to test.</p>
<p><img alt="Image" src="_images/13284de838064254b7312a29092d7d3a.png" /></p>
<p>Set the Can service：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ip link set awlink0 up type can bitrate 500000
[58659.636796] IPv6: ADDRCONF(NETDEV_CHANGE): can0: link becomes ready
root@OK527:/# ip link set awlink1 up type can bitrate 500000
[58662.966792] IPv6: ADDRCONF(NETDEV_CHANGE): can1: link becomes ready
root@OK527:/# ip link set dev awlink0 txqueuelen 4096
root@OK527:/# ip link set dev awlink1 txqueuelen 4096
</pre></div>
</div>
<p>Set can0 to receive and can1 to send:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# candump awlink0 &amp;
[1] 18633
root@OK527:/# cangen  awlink1
awlink0  790   [1]  A4
awlink0  3A0   [3]  31 A1 15
awlink0  04B   [2]  DD EF
awlink0  39D   [8]  AE 37 BF 78 59 95 FB 68
awlink0  6A6   [2]  D2 DE
awlink0  59D   [4]  A5 60 7F 04
awlink0  019   [0]
</pre></div>
</div>
</section>
<section id="id9">
<h3>4.30 SPI Test<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<p>SPI1 (located at the P29 terminal), led out from the OK527 carrier board.</p>
<p>Short-circuit SPI1_MOSI &amp; SPI1_MISO for testing.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_spidev_test -D /dev/spidev0.0 -s 1000000
spi mode: 0
bits per word: 8
max speed: 1000000 Hz (1000 KHz)

FF FF FF FF FF FF
40 00 00 00 00 95
FF FF FF FF FF FF
FF FF FF FF FF FF
FF FF FF FF FF FF
DE AD BE EF BA AD
F0 0D

PASS
</pre></div>
</div>
<p>If there is a problem with SPI communication, all received data is 00.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_spidev_test -D /dev/spidev0.0 -s 1000000
spi mode: 0
bits per word: 8
max speed: 1000000 Hz (1000 KHz)

00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00

ERR: rx != tx
</pre></div>
</div>
</section>
<section id="gpio-test">
<h3>4.31 GPIO Test<a class="headerlink" href="#gpio-test" title="Link to this heading"></a></h3>
<p>Take PJ24 as an example, PJ24 can control D10 blue led.</p>
<p><img alt="Image" src="_images/6dd87220ebbc4abcbd852426841b9ebd.png" /></p>
<p>Set PJ24 output low level</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_gpio.sh PJ24 0
=== PJ24 === gpio312 ===
out: 0
</pre></div>
</div>
<p>Read PJ24 pin input level</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# fltest_gpio.sh PJ24 in
=== PJ24 === gpio312===
read: 1
</pre></div>
</div>
</section>
<section id="buzzer-test">
<h3>4.32 Buzzer Test<a class="headerlink" href="#buzzer-test" title="Link to this heading"></a></h3>
<p>The buzzer of OK527-C is a passive buzzer, and the PWM signal can be input.</p>
<p><img alt="Image" src="_images/70d6614ceaa749b38cb8bf7eeb286785.png" /></p>
<p>Set PJ24 output high level</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# echo 8 &gt; /sys/class/pwm/pwmchip0/export
root@OK527:/# echo 10000000 &gt; /sys/class/pwm/pwmchip0/pwm8/period
root@OK527:/# echo 5000000 &gt; /sys/class/pwm/pwmchip0/pwm8/duty_cycle
root@OK527:/# echo 1 &gt; /sys/class/pwm/pwmchip0/pwm8/enable    //使能蜂鸣器
root@OK527:/# echo 0 &gt; /sys/class/pwm/pwmchip0/pwm8/enable    //关闭蜂鸣器
root@OK527:/# echo 8 &gt; /sys/class/pwm/pwmchip0/unexport
</pre></div>
</div>
</section>
<section id="usb3-0">
<h3>4.33 USB3.0<a class="headerlink" href="#usb3-0" title="Link to this heading"></a></h3>
<p>OK527-C’s USB3.0 and PCIE are multiplexed functions, and only one works at the same time. Need to switch functions in the uboot menu</p>
<p>Change the carrier board DIP switch, select USB3.0, press the space to enter the uboot menu interface after the development board is powered on, press 4 to cycle in “pcie” “USB 3.0”, and select “USB 3.0” as shown below:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display0 Type:lvds 1280x800
3:Display1 Type:hdmi
4:Device PHY Type:usb 3.0
5:display primary screen: disp0_type
---------------------------------------------
</pre></div>
</div>
<p>Then press 1 to restart to test the USB 3.0 function. Refer to “<a class="reference internal" href="#_4.14_USB_2.0"><span class="xref myst">4.14 USB 2.0</span></a>” for the test method.</p>
</section>
<section id="pcie">
<h3>4.34 PCIE<a class="headerlink" href="#pcie" title="Link to this heading"></a></h3>
<p>USB3.0 and PCIE of OK527-C are multiplexing functions, and only one can work at the same time. Need to switch functions in the uboot menu</p>
<p>Change the DIP switch on the carrier board, select PCIE2.1. After powering on the development board, press the space bar to enter the uboot menu interface. Press 4 to cycle through “PCIe” and “USB 3.0”. Select “PCIe” as shown below:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display0 Type:lvds 1280x800
3:Display1 Type:hdmi
4:Device PHY Type:pcie
5:display primary screen: disp0_type
---------------------------------------------
</pre></div>
</div>
<p>Then press 1 to restart to test the pcie function.</p>
<p>The following test uses the RTL8125 network card.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# lspci
01:00.0 Class 0200: 10ec:8168
00:00.0 Class 0604: 16c3:abcd
root@OK527:/# ifconfig -a | grep enp
enp1s0    Link encap:Ethernet  HWaddr 00:00:00:00:00:05
</pre></div>
</div>
<p>Note: The network speed follows the “barrel effect”. In this test, the RTL8125 is a 2.5g network card, but the network card of the 192.168.1.39 computer is a gigabit network card, so the final test speed is a gigabit speed.</p>
</section>
<section id="ir-rx">
<h3>4.35 IR-RX<a class="headerlink" href="#ir-rx" title="Link to this heading"></a></h3>
<p>The OK527-C supports infrared receiving.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# evtest 
No device specified, trying to scan all of /dev/input/event*
Available devices:
/dev/input/event0:sunxi-keyboard
/dev/input/event1:sunxi_ir_recv
/dev/input/event2:sunxi-gpadc0/channel3/input0
/dev/input/event3:sunxi-gpadc0/channel4/input0
/dev/input/event4:sunxi-gpadc0/channel5/input0
/dev/input/event5:sunxi-gpadc0/channel6/input0
/dev/input/event6:sunxi-gpadc0/channel7/input0
/dev/input/event7:sunxi-gpadc1/channel0/input0
/dev/input/event8:sunxi-gpadc1/channel1/input0
/dev/input/event9:sunxi-gpadc1/channel2/input0
/dev/input/event10:     sunxi-gpadc1/channel3/input0
/dev/input/event11:     sunxi-gpadc1/channel4/input0
/dev/input/event12:     sunxi-gpadc1/channel5/input0
/dev/input/event13:     sunxi-gpadc1/channel6/input0
/dev/input/event14:     sunxi-gpadc1/channel7/input0
/dev/input/event15:     sunxi-gpadc1/channel8/input0
/dev/input/event16:     axp2202-pek
/dev/input/event17:     audiocodec Headphones
Select the device event number [0-17]: 1      //选择sunxi_ir_recv对应的event编号
Input driver version is 1.0.1
Input device ID: bus 0x19 vendor 0x1 product 0x1 version 0x100
Input device name: &quot;sunxi_ir_recv&quot;
Supported events:
Event type 0 (EV_SYN)
Event type 1 (EV_KEY)
Event code 14 (KEY_BACKSPACE)
Event code 15 (KEY_TAB)
Event code 52 (KEY_DOT)
Event code 83 (KEY_KPDOT)
Event code 102 (KEY_HOME)
Event code 103 (KEY_UP)
Event code 105 (KEY_LEFT)
Event code 106 (KEY_RIGHT)
Event code 108 (KEY_DOWN)
Event code 113 (KEY_MUTE)
Event code 114 (KEY_VOLUMEDOWN)
Event code 115 (KEY_VOLUMEUP)
Event code 116 (KEY_POWER)
Event code 119 (KEY_PAUSE)
Event code 128 (KEY_STOP)
Event code 139 (KEY_MENU)
Event code 141 (KEY_SETUP)
Event code 158 (KEY_BACK)
Event code 163 (KEY_NEXTSONG)
Event code 164 (KEY_PLAYPAUSE)
Event code 165 (KEY_PREVIOUSSONG)
Event code 166 (KEY_STOPCD)
Event code 168 (KEY_REWIND)
Event code 207 (KEY_PLAY)
Event code 208 (KEY_FASTFORWARD)
Event code 256 (BTN_0)
Event code 352 (KEY_OK)
Event code 365 (KEY_EPG)
Event code 377 (KEY_TV)
Event code 402 (KEY_CHANNELUP)
Event code 403 (KEY_CHANNELDOWN)
Event code 407 (KEY_NEXT)
Event code 412 (KEY_PREVIOUS)
Event code 512 (KEY_NUMERIC_0)
Event code 513 (KEY_NUMERIC_1)
Event code 514 (KEY_NUMERIC_2)
Event code 515 (KEY_NUMERIC_3)
Event code 516 (KEY_NUMERIC_4)
Event code 517 (KEY_NUMERIC_5)
Event code 518 (KEY_NUMERIC_6)
Event code 519 (KEY_NUMERIC_7)
Event code 520 (KEY_NUMERIC_8)
Event code 521 (KEY_NUMERIC_9)
Event code 717 (BTN_TRIGGER_HAPPY14)
Event code 719 (BTN_TRIGGER_HAPPY16)
Event code 721 (BTN_TRIGGER_HAPPY18)
Event type 2 (EV_REL)
Event code 0 (REL_X)
Event code 1 (REL_Y)
Event type 4 (EV_MSC)
Event code 4 (MSC_SCAN)
Key repeat handling:
Repeat type 20 (EV_REP)
Repeat code 0 (REP_DELAY)
Value    400
Repeat code 1 (REP_PERIOD)
Value     80
Properties:
Property type 5 (INPUT_PROP_POINTING_STICK)
Testing ... (interrupt to exit)
Event: time 1704962021.400475, type 4 (EV_MSC), code 4 (MSC_SCAN), value 15
Event: time 1704962021.400475, type 1 (EV_KEY), code 519 (KEY_NUMERIC_7), value 1
Event: time 1704962021.400475, -------------- SYN_REPORT ------------
Event: time 1704962021.452943, type 4 (EV_MSC), code 4 (MSC_SCAN), value 15
Event: time 1704962021.452943, -------------- SYN_REPORT ------------
Event: time 1704962021.696805, type 1 (EV_KEY), code 519 (KEY_NUMERIC_7), value 0
Event: time 1704962021.696805, -------------- SYN_REPORT ------------
Event: time 1704962024.777524, type 4 (EV_MSC), code 4 (MSC_SCAN), value 46
Event: time 1704962024.777524, -------------- SYN_REPORT ------------
Event: time 1704962024.829971, type 4 (EV_MSC), code 4 (MSC_SCAN), value 46
Event: time 1704962024.829971, -------------- SYN_REPORT ------------
^Croot@OK527:/#
</pre></div>
</div>
</section>
<section id="bluetooth-test">
<h3>4.36 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading"></a></h3>
<p>The AW-CM358 module of the OK527-C carrier board, with integrated Bluetooth capability. This section demonstrates the use of Bluetooth for file transfer between the phone and the board.</p>
<p>Bluetooth Configuration</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# bluetoothctl                             //Open the BlueZ Bluetooth device         
Agent registered
[CHG] Controller E8:FB:1C:66:FA:A6 Pairable: yes
[bluetooth]# power on          //Enable the Bluetooth device
[CHG] Controller E8:FB:1C:66:FA:A6 Class: 0x00100000
Changing power on succeeded
[CHG] Controller E8:FB:1C:66:FA:A6 Powered: yes
[bluetooth]# pairable on       // Set to pairable mode
Changing pairable on succeeded
[bluetooth]# discoverable on   //Set to discoverable mode
Changing discoverable on succeeded
[CHG] Controller E8:FB:1C:66:FA:A6 Discoverable: yes
[bluetooth]# agent on        //Enable the agent
Agent is already registered
[bluetooth]# default-agent    // Set the current agent as the default agent
Default agent request successful
[bluetooth]# 
</pre></div>
</div>
<p>1. Development Board Passive Pairing.</p>
<p>After the above settings, open the computer to search for Bluetooth, click “Add Bluetooth or other devices”, a “OKT527” device will appear, click this Bluetooth to try to pair.</p>
<p><img alt="Image" src="_images/40b40021d9a94094a8dabf3e33ded013.png" /></p>
<p>At the same time, the information printed on the development board is as follows. Enter yes:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[CHG] Device 2C:DB:07:C7:4F:F6 Connected: yes
Request confirmation
[agent] Confirm passkey 153732 (yes/no): yes
</pre></div>
</div>
<p>2. View and remove connected devices:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# devices                                           //View connected Bluetooth device
Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F
[bluetooth]# remove 2C:DB:07:C7:4F:F6                         //Remove the device
[DEL] Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F
Device has been removed
</pre></div>
</div>
<p>3. Development board active pairing</p>
<p>In addition to passive pairing, it is also possible to send an active pairing request from the development board terminal</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# scan on        //Start scanning
Discovery started
[CHG] Controller E8:FB:1C:66:FA:A6 Discovering: yes
[NEW] Device 7B:01:59:ED:69:50 7B-01-59-ED-69-50
[NEW] Device 7C:71:13:5F:A3:8F 7C-71-13-5F-A3-8F
[NEW] Device 14:16:9E:62:39:BD zzy 
[NEW] Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F  //Locate the device to pair
[CHG] Device 14:16:9E:62:39:BD RSSI: -74
[bluetooth]# scan off        //Turn off scanning
Discovery stopped
[CHG] Device 2C:DB:07:C7:4F:F6 TxPower is nil
[CHG] Device 2C:DB:07:C7:4F:F6 RSSI is nil
[CHG] Device 14:16:9E:62:39:BD RSSI is nil
[CHG] Device 7C:71:13:5F:A3:8F TxPower is nil
[CHG] Device 7C:71:13:5F:A3:8F RSSI is nil
[CHG] Device 7B:01:59:ED:69:50 RSSI is nil
[CHG] Controller E8:FB:1C:66:FA:A6 Discovering: no
[bluetooth]# pair 2C:DB:07:C7:4F:F6        //Pair with the specified device
Attempting to pair with 14:16:9E:62:39:BD
[CHG] Device 14:16:9E:62:39:BD Connected: yes
Request confirmation
[agent] Confirm passkey 807166 (yes/no): yes        //Confirm the key
[CHG] Device 14:16:9E:62:39:BD Modalias: bluetooth:v000Fp1200d1436
[CHG] Device 14:16:9E:62:39:BD UUIDs: 00001105-0000-1000-8000-00805f9b34fb
......
[CHG] Device 14:16:9E:62:39:BD UUIDs: fa88c0d0-afac-11de-8a99-0800200c9a67
[CHG] Device 14:16:9E:62:39:BD ServicesResolved: yes
[CHG] Device 14:16:9E:62:39:BD Paired: yes
Pairing successful
[CHG] Device 14:16:9E:62:39:BD ServicesResolved: no
[CHG] Device 14:16:9E:62:39:BD Connected: no
[bluetooth]# 
</pre></div>
</div>
<p>At the same time, the pairing request appears on the computer interface, click the pairing, the board end prints and inputs yes, and the end pairing is successful.</p>
<p>4. Development board to receive documents</p>
<p>After successful pairing, you can use Bluetooth to send files to the board on the computer side.</p>
<p>Click on “Send or receive files via Bluetooth”</p>
<p><img alt="Image" src="_images/546e43f08bac45689251aba4739cd77a.png" /></p>
<p>Select “Send File”</p>
<p><img alt="Image" src="_images/f7d301937a164d988dc89ebfd6d2c998.png" /></p>
<p>Select OKT527.</p>
<p><img alt="Image" src="_images/bf7b4b2e47fa4617a410a38274db9230.png" /></p>
<p>Select a file to send.</p>
<p><img alt="Image" src="_images/52169b3ceae74cc7a96726ba5922d0b9.png" /></p>
<p><img alt="Image" src="_images/62ca2ac1a48c4274a5174a1fbdef84c2.png" /></p>
<p>Wait for the send completion</p>
<p><img alt="Image" src="_images/1f5060a09b8c46008b72a0bf7a216a6d.png" /></p>
<p><img alt="Image" src="_images/a5a5d2db09dc420380c4b9f46e2fe68f.png" /></p>
<p>Received files are saved in the /tmp directory.</p>
<p>5. The development board is to send files.</p>
<p>Similarly, you can use the development board to send files to the computer.</p>
<p>The test method is as follows:</p>
<p>Select “Receive File” on the computer side.</p>
<p><img alt="Image" src="_images/c018e7d4f48b4af986da3b6f4e6741df.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:~# bluetoothctl 
Agent registered
[CHG] Controller E8:FB:1C:66:FA:A6 Pairable: yes
[bluetooth]# paired-devices        //View paired device
Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F
[bluetooth]# exit
root@OK527:~# fltest_obexctl.sh
[NEW] Client /org/bluez/obex 
[obex]# connect   2C:DB:07:C7:4F:F6     //Link the specified device
Attempting to connect to 2C:DB:07:C7:4F:F6
[NEW] Session /org/bluez/obex/client/session0 [default]
[NEW] ObjectPush /org/bluez/obex/client/session0 
Connection successful
[2C:DB:07:C7:4F:F6]# send /run/media/mmcblk0p1/bootlogo.bmp  //Send files
Attempting to send /run/media/mmcblk0p1/bootlogo.bmp to /org/bluez/obex/client/session0
[NEW] Transfer /org/bluez/obex/client/session0/transfer0 
Transfer /org/bluez/obex/client/session0/transfer0
Status: queued
Name: bootlogo.bmp
Size: 1339239
Filename: /run/media/mmcblk0p1/bootlogo.bmp
Session: /org/bluez/obex/client/session0
[CHG] Transfer /org/bluez/obex/client/session0/transfer0 Status: active
[CHG] Transfer /org/bluez/obex/client/session0/transfer0 Transferred: 65433 (@65KB/s 00:19)
[CHG] Transfer /org/bluez/obex/client/session0/transfer0 Transferred: 130961 (@65KB/s 00:18)
.....
[CHG] Transfer /org/bluez/obex/client/session0/transfer0 Status: complete
[DEL] Transfer /org/bluez/obex/client/session0/transfer0 
[2C:DB:07:C7:4F:F6]# exit
root@OK527:~# 
</pre></div>
</div>
<p>The computer will receive the incoming file request for file transfer.</p>
<p>6. Board sink, connected to mobile phone</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>//Execute the following instructions in order root@OK527:/# bluealsa -p a2dp-source -p a2dp-sink -p hfp-hf -p hfp-ag -p hsp-hs -p hsp-ag &amp;
root@OK527:/# bluetoothctl
[bluetooth]# power on
[bluetooth]# pairable on
[bluetooth]# discoverable on
[bluetooth]# agent on
# Then connect the mobile phone to the board.
# And then all kinds of yes
# Trust the mobile
[bluetooth]# trust 54:09:10:2A:01:75
[bluetooth]# quit

root@OK527:/# bluealsa-aplay -l
**** List of PLAYBACK Bluetooth Devices ****
hci0: 54:09:10:2A:01:75 [1/6], phone
SCO (CVSD): S16_LE 1 channel 8000 Hz
**** List of CAPTURE Bluetooth Devices ****
hci0: 54:09:10:2A:01:75 [1/6], phone
A2DP (SBC): S16_LE 2 channels 44100 Hz
SCO (CVSD): S16_LE 1 channel 8000 Hz

# Record from bluealsa, then play to default device (soc internal codec)
root@OK527:/# arecord -fcd -D bluealsa | aplay

# When the mobile phone plays music, the board rings.
</pre></div>
</div>
</section>
<section id="npu-test">
<h3>4.37 NPU Test<a class="headerlink" href="#npu-test" title="Link to this heading"></a></h3>
<p>OK527N-C integrates 2Tops NPU and currently has six models built-in: Fairmot, MobileNet_V2, VGG19, struct 2depth, yolact, and yolov5s-sim-640.</p>
<p>This section mainly demonstrates the use of NPU through routines.</p>
<p>The location of the NPU test routine is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# ls /etc/npu/sample_viplite
Fairmot  MobileNet_V2  VGG19  struct2depth  yolact  yolov5s-sim-640

root@OK527:/# ls /etc/npu/sample_viplite/Fairmot/
1088x608x3.dat  network_binary.nb  sample.txt


//  1088x608x3.dat   Input data for test
//  network_binary.nb Network model for testing
//  sample.txt        Configuration file for test
</pre></div>
</div>
<p>The configuration file is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# cd /etc/npu/sample_viplite/Fairmot
root@OK527:/etc/npu/sample_viplite/Fairmot# cat sample.txt

vpm_run is a framework for testing VIPLite driver.

#You may put comment by starting with a &#39;#&#39;.
#####################################################A separator makes the list clear.
[network]
/etc/npu/sample_viplite/Fairmot/network_binary.nb      //Specify the network model to use
[input]
/etc/npu/sample_viplite/Fairmot/1088x608x3.dat        //Specify the input data                 

You can also add comparison files and output files by adding [golden] and [output] in the configuration file:
[network]
./ network_binary.nb
[input]
./ input_0.dat
[ golden]                                   //Compare files
./ output0_10_1.dat
[output]                                     //Output files
./ output_0.dat             
Here&#39;s how to run it: -l 10 means execute the test 10 times, and the results are as follows
root@OK527:/etc/npu/sample_viplite/Fairmot# vpm_run -s sample.txt -l 10
loop_count=10, device_id=0, file_name=sample.txt
test started.
init vip lite, driver version=0x00010d00...
VIPLite driver software version 1.13.0.0-AW-2023-10-19
vip lite init OK.

cid=0x10000016, device_count=1
device[0] core_count=1
init test resources, batch_count: 1 ...
create/prepare networks ...
batch i=0, binary name: /etc/npu/sample_viplite/Fairmot/network_binary.nb
input 0 dim 1088 608 3 1, data_format=2, quant_format=2, name=input[0], scale=1.000000, zero_point=0
ouput 0 dim 272 152 1 1, data_format=2, name=uid_9_out_0, scale=0.003889, zero_point=0
ouput 1 dim 272 152 4 1, data_format=2, name=uid_8_out_0, scale=0.123799, zero_point=39
ouput 2 dim 272 152 2 1, data_format=2, name=uid_7_out_0, scale=0.024050, zero_point=32
ouput 3 dim 272 152 1 1, data_format=2, name=uid_6_out_0, scale=0.003889, zero_point=0
ouput 4 dim 128 272 152 1, data_format=1, name=uid_41_out_0, none-quant
nbg name=/etc/npu/sample_viplite/Fairmot/network_binary.nb
create network 0: 26301 us.
memory pool size=17419776byte
network core count=1
input 0 name: /etc/npu/sample_viplite/Fairmot/1088x608x3.dat
prepare network 0: 35679 us.
batch: 0, loop count: 1
start to run network=/etc/npu/sample_viplite/Fairmot/network_binary.nb
run time for this network 0: 346532 us.
run network done...
profile inference time=344865us, cycle=239992405
******* nb TOP5 ********
--- Top5 ---
40528: 0.987698
1088: 0.979921
1360: 0.976033
1632: 0.976033
1904: 0.976033
******* nb TOP5 ********
--- Top5 ---
165375: 26.740648
165374: 20.055487
165373: 18.941294
165105: 15.846311
81599: 14.979715
******* nb TOP5 ********
--- Top5 ---
80179: 3.246813
80312: 3.246813
80327: 3.246813
80351: 3.246813
80359: 3.246813
******* nb TOP5 ********
--- Top5 ---
40256: 0.987698
40257: 0.987698
40528: 0.987698
40529: 0.987698
40800: 0.987698
******* nb TOP5 ********
--- Top5 ---
7: 0.329834
5222406: 0.302002
5222534: 0.301758
5222662: 0.300781
5222790: 0.290527
</pre></div>
</div>
</section>
</section>
<section id="ok527-platform-multimedia-test">
<h2>5. OK527 Platform Multimedia Test<a class="headerlink" href="#ok527-platform-multimedia-test" title="Link to this heading"></a></h2>
<p>The audio and video part of OK527 platform supports hardware decoding. All of the examples in this section are based on command line forms.</p>
<p>There is a video processing unit VPU inside the OK527 platform, which supports video hard decoding in the following formats:</p>
<p>Video Decoding: H265 supports up to 4K &#64; 30fps and H264 supports up to 4K &#64; 24fps</p>
<p>Video Encoding: JPEG, up to 4096x4096</p>
<p>Table of hardware decoder parameters for the OK527 platform:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Video Decoder</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Resolution</p></th>
<th class="head"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p></p></td>
<td><p>H.265</p></td>
<td><p>4K</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p></p></td>
<td><p>H.264</p></td>
<td><p>4K</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p></p></td>
<td><p>VP9</p></td>
<td><p>4K</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Video Encoder</p></td>
<td><p>H264</p></td>
<td><p>4K</p></td>
<td><p>24 fps</p></td>
</tr>
</tbody>
</table>
<section id="uvc-play-test">
<h3>5.1 UVC Play Test<a class="headerlink" href="#uvc-play-test" title="Link to this heading"></a></h3>
<p><strong>Note:</strong></p>
<p><strong>Before performing the tests in this section, refer to “Closing the Desktop” to close the desktop test program and clear the screen.</strong></p>
<p><strong>The device node recognized by the OK527 UVC camera is /dev/video1, and this test uses LVDS as the display device.</strong></p>
<p>1. Capture Test</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# gst-launch-1.0 v4l2src device=/dev/video1 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480,framerate=30/1 ! waylandsink

.
.
.
</pre></div>
</div>
<p><img alt="Image" src="_images/0c47f75b548e459faadbfe8c36864519.png" /></p>
</section>
<section id="ov5645-acquisition-test">
<h3>5.2 OV5645 Acquisition Test<a class="headerlink" href="#ov5645-acquisition-test" title="Link to this heading"></a></h3>
<p>Command line collection of MIPI cameras is currently not supported, but can be collected using the Qt application.</p>
</section>
<section id="video-hardware-decoding">
<h3>5.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading"></a></h3>
<p>OK527 supports H264, H265 video hard decoding, H265 supports up to 4K &#64; 60fps, H264 supports up to 4K &#64; 30 fps</p>
<p>The current encoding and decoding uses the gstreamer method, which can only decode without encoding.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# gst-launch-1.0  filesrc location=/forlinx/1080p_60fps_h264.mp4  ! parsebin ! omxh264dec ! filesink location=h264.yuv

...
stream stopped, reason error
WARNING: omx_vdec_aw &lt;standbyOutBufferArr:659&gt;: ** return pic when flush,i[0],pPic[0x7f70001328]
WARNING: omx_vdec_aw &lt;standbyOutBufferArr:659&gt;: ** return pic when flush,i[1],pPic[0x7f70001498]
WARNING: omx_vdec_aw &lt;standbyOutBufferArr:659&gt;: ** return pic when flush,i[4],pPic[0x7f700018e8]
WARNING: omx_vdec_aw &lt;standbyOutBufferArr:659&gt;: ** return pic when flush,i[5],pPic[0x7f70001a58]

Freeing pipeline ...

</pre></div>
</div>
<p>Check if the h264.yuv file has been generated after completion.</p>
<p>Video Preview</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK527:/# gst-launch-1.0  filesrc location=/forlinx/1080p_30fps_h265.mp4  ! parsebin ! omxhevcvideodec ! waylandsink

.
.
.

</pre></div>
</div>
</section>
</section>
<section id="system-flashing">
<h2>6. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading"></a></h2>
<p>The OK527-C development board currently supports both OTG and TF card programming. The corresponding burning tool is provided in the user information, and the user can choose anyone to burn the image.</p>
<section id="image-required-for-flashing">
<h3>6.1 Image Required for Flashing<a class="headerlink" href="#image-required-for-flashing" title="Link to this heading"></a></h3>
<p>Image Path: 02-User Profile\01-Software Profile\03-Mirror &amp; Source Code\01-Image File</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Image</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>t527_linux_okt527_uart0.img</p></td>
<td><p>Factory default image (eMMC)</p></td>
</tr>
</tbody>
</table>
<p>Note: The provided image file has been compressed. Please decompress it before burning it.</p>
</section>
<section id="otg-flashing">
<h3>6.2 OTG Flashing<a class="headerlink" href="#otg-flashing" title="Link to this heading"></a></h3>
<section id="flashing-tools-installation">
<h4>6.2.1 Flashing Tools Installation<a class="headerlink" href="#flashing-tools-installation" title="Link to this heading"></a></h4>
<p>Path: 02-User Information \ 01-Software Information \ 04-Tools \ PhoenixSuit _ V1.10.zip</p>
<p>Unzip the Phoenix Suit _ V1.10.zip and connect the development board to the PC using the Type-C cable.</p>
<p>Use the Type-C cable to connect the development board and the host. Press and hold the FEL key and press the RESET key to reset the system. Release the RESET key for about two seconds and then release the FEL key.</p>
<p><strong>Note: Make sure to release the RESET button first, then release the FEL button.</strong></p>
<p>Open the windows device manager, find an unknown device with a yellow exclamation mark, select to install the driver manually, right-click the unknown device, and select “Update Driver”</p>
<p><img alt="Image" src="_images/e5f86fbc1486465992bbe76cd757b12d.png" /></p>
<p>Select “Browse my computer for drivers” and then select the extracted V1.10 directory of the Phoenix Suit _.</p>
<p><img alt="Image" src="_images/92a779fea1264e2bb070bcac89d74dca.png" /></p>
<p>Wait for the driver to finish installing, and run PhoenixSuit.exe, the bottom left corner shows “The device has been connected successfully”.</p>
<p><img alt="Image" src="_images/48ee2faa0d544b98b7f5b783cbf42f3e.png" /></p>
</section>
<section id="otg-flashing-method">
<h4>6.2.2 OTG Flashing Method<a class="headerlink" href="#otg-flashing-method" title="Link to this heading"></a></h4>
<p>1. OTG Full Flashing Test</p>
<p>This method will flash the entire img image.</p>
<p>As shown in the following interface:</p>
<p><img alt="Image" src="_images/75907aa320fc4c73b2c2d53ad293a073.png" /></p>
<p>In the following interface, click on “One-click Flash” and then click on “Browse” to select the firmware image file.</p>
<p><img alt="Image" src="_images/b9d6ce35261d45989b61599133445b73.png" /></p>
<p>Connect the development board and the host using a Type-A to Type-C cable, do not power on the board initially, press the FEL key, power on the board, then release the FEL key.</p>
<p><strong>Note: Be sure to press the FEL key when the power is off.</strong></p>
<p>In the following interface, click “Yes” to enter the formatting upgrade mode.</p>
<p><img alt="Image" src="_images/9e841ac83db74c3f8252cd462c7c9b8e.png" /></p>
<p>Waif for the flashing to finish, the following interface will pop up:</p>
<p><img alt="Image" src="_images/25e5db4bcd224c4b90932f18ba8fadf7.png" /></p>
<p>Power on and start the OK527 board.</p>
<p>2. Update the image separately.</p>
<p>1) Separate flashing test for OTG Uboot</p>
<p>In the following interface, check the checkbox “Single or Multi-zone Download (Check this option, the flashing tool downloads the partitions you selected)”, check “BOOT-RESOURCE”, “ENV”, checkboxes.</p>
<p><img alt="Image" src="_images/cdd682f28efa43f3948b34cf987a980f.png" /></p>
<p>Connect the development board and the host using a Type-A to Type-C cable, do not power on the board initially, press the FEL key, power on the board, then release the FEL key. Wait for flashing to finish, the following interface will pop up:</p>
<p><strong>Note: Be sure to press the FEL key when the power is off.</strong></p>
<p><img alt="Image" src="_images/f58585e7e2e5409e9916f7fecc70266b.png" /></p>
<p>2) Flash the kernel image and device tree (dtb) file via OTG</p>
<p>Check the “Single/Multiple Partition Download” box in the interface (flashing tool downloads selected partitions), also check “BOOT-RESOURCE” and “BOOT”.</p>
<p>Place the kernel image in the “BOOT” partition, and the device tree (DTB) file and U-Boot in the “BOOT-RESOURCE” partition.</p>
<p><img alt="Image" src="_images/897c8fbb003944ceb6cf8fe34b68de83.png" /></p>
<p>Connect the development board and the host using a Type-A to Type-C cable, do not power on the board initially, press the FEL key, power on the board, then release the FEL key. Wait for flashing to finish, the following interface will pop up:</p>
<p><strong>Note:Be sure to press the FEL key when the power is off.</strong></p>
<p><img alt="Image" src="_images/0b2663ee9100475daac085b38192c22d.png" /></p>
<p>3) OTG flashing File System</p>
<p>Check the “Single/Multiple Partition Download” box in the interface (flashing tool downloads selected partitions), also check “ROOTFS”.</p>
<p><img alt="Image" src="_images/cd45f3bab23048ec97c58521e9db720c.png" /></p>
<p>Connect the development board and the host using a Type-A to Type-C cable, do not power on the board initially, press the FEL key, power on the board, then release the FEL key. Wait for flashing to finish, the following interface will pop up:</p>
<p><strong>Note: Be sure to press the FEL key when the power is off.</strong></p>
<p><img alt="Image" src="_images/10322ba26a994533b0a79b6f331f16af.png" /></p>
</section>
<section id="otg-flashing-common-issues">
<h4>6.2.3 OTG Flashing Common Issues<a class="headerlink" href="#otg-flashing-common-issues" title="Link to this heading"></a></h4>
<p>1. Driver installation failed</p>
<p>Some users still see an “Unknown Device” after installing USB drivers per the manual. Clicking on it shows a message about a third-party INF lacking digital signature info, as shown below.</p>
<p><img alt="Image" src="_images/add5cacc0f3944ca9e281a9e532154e2.png" /></p>
<p>This occurs because some Windows systems disallow unsigned drivers to ensure system stability, resulting in failed installation of unsigned drivers. Users need to disable driver signature enforcement on their computers before installing drivers according to the manual.</p>
<ul class="simple">
<li><p>Solution to the problem that the third-party INF does not contain digital signature information.</p></li>
</ul>
<p>1）<font style="color:black;">First press and hold Shift + to restart</font></p>
<p><img alt="Image" src="_images/8e077ae99f5c45499a2e0d5549cd10c2.png" /></p>
<p>2）<font style="color:black;">At startup, select Troubleshooting – Advanced Options – Startup Settings</font></p>
<p><img alt="Image" src="_images/8a469de93ad145a9929cfa82a67562a1.png" /></p>
<p>3. <font style="color:black;">In the boot settings screen, click Reboot in the lower right corner to reboot into the boot settings; you can use the number keys 7 or functional keys F7; disable driver forced signing;</font></p>
<p><img alt="Image" src="_images/58ad1236653d426eaf695631e1e5fce0.png" /></p>
<p>2. Improper use of FEL key</p>
<p>When flashing, do not power up the board first, press the FEL key and then power up the board, and then release the FEL key.</p>
<p>3. The device name has appeared, but the board still cannot be recognized.</p>
<p><img alt="Image" src="_images/3e0d49691a2b4c8ba31b7d31f69dd091.png" /></p>
<p>Due to numerous unknown devices in Device Manager, choosing the wrong one might install the driver incorrectly. Right-click the device, uninstall it and the device driver.</p>
<p><img alt="Image" src="_images/2c3fbd23dae14b61bfc4199fab45dab0.png" /></p>
<p>Then unplug other USB devices, set the development board to flashing mode, connect to the host, and reinstall the driver.</p>
</section>
</section>
<section id="tf-card-flashing">
<h3>6.3 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading"></a></h3>
<section id="tf-flashing-card-creation">
<h4>6.3.1 TF Flashing Card Creation<a class="headerlink" href="#tf-flashing-card-creation" title="Link to this heading"></a></h4>
<p>Creation path: 02-user information\01-software information\04-tools\PhoenixCard_V4.1.9.zip</p>
<p>1. Insert the 8GB/16GB/32GB TF card into the USB port of the PC using a card reader;</p>
<p>2. Copy the PhoenixCard_V4.1.9.zip to any directory on Windows, then double-click the PhoenixCard.exe file inside the PhoenixCard_V4.1.9 directory.</p>
<p>As shown in the following interface:</p>
<p><img alt="Image" src="_images/ca21e82750e0406d9531ad7baec66c5a.png" /></p>
<p><strong>Note: When there are multiple partitions on the TF card, please click on “Restore Card” first, and then click on “Burn Card”. Otherwise, it may result in a failed burn process.</strong></p>
<p>3. Click on “Firmware” to browse OK527 firmware image, select “Mass Production Card,” and click “Flash Card”.</p>
<p>After flashing, as shown in the following interface:</p>
<p><img alt="Image" src="_images/564b183a3bb54e87ab1b8cd8e33b8445.png" /></p>
</section>
<section id="id10">
<h4>6.3.2 TF Card Flashing<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<p>1. Insert the TF card, power on and start the card, and the system will automatically enter the programming process.</p>
<p>After the programming is completed, the screen and serial port will prompt:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>…

chunk 4392(4395)
chunk 4393(4395)
chunk 4394(4395)
[76.477]successed in writting part rootfs
origin_verify value = b32fc317, active_verify value = b32fc317
[76.486]successed in verify part rootfs
[76.490]successed in download part rootfs
[76.494]begin to download part riscv0
partdata hi 0x0
partdata lo 0x1f39bc
sparse: bad magic
[76.599]successed in writting part riscv0
origin_verify value = 1cc2c38d, active_verify value = 1cc2c38d
[76.619]successed in verify part riscv0
[76.623]successed in download part riscv0
[76.627]begin to download part dsp0
partdata hi 0x0
partdata lo 0x4c4b0
sparse: bad magic
[76.650]successed in writting part dsp0
origin_verify value = 9720f44d, active_verify value = 9720f44d
[76.662]successed in verify part dsp0
[76.665]successed in download part dsp0
[76.672]successed in downloading part
uboot size = 0x16c000
storage type = 2
sunxi_sprite_deal_uboot ok
[76.761]successed in downloading uboot
[76.768][mmc]: write mmc 2 info ok
storage type = 2
[76.780]successed in downloading boot0
CARD OK
[76.784]sprite success
sprite_next_work=1
next work 1
SUNXI_UPDATE_NEXT_ACTION_NULL
==================================================
|                                                |
|                 update  finish                 |
|                                                |
==================================================
remind_type : GPIO_LED
</pre></div>
</div>
<p>2. Pull out the TF card and power on the board to start the system.</p>
<p>During mass production, monitor the red light on the SoM to gauge flashing completion. The process changes as follows:</p>
<p>Flashing preparation stage: The red light of the SoM is always off.</p>
<p>Flashing completion stage: The red light of the SoM is off.</p>
<p>3. TF Card Restoration</p>
<p>Path of recovery tool: 02-User information \ 01-Software information \ 04-Tools \ PanasonicSDFormatter.zip</p>
<p>Copy PanasonicSDFormatter.zip to any window directory and unzip it, insert the TF card into the Windows host, and run SDFormatter.exe as administrator.</p>
<p><img alt="Image" src="_images/37b85de7e4b7429a838d3d8fc6bbd93b.png" /></p>
<p>Click on “Options Settings,” select Erase and Format, and then click Format to restore the burned TF card to a regular TF card.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>